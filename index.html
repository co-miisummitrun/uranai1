<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="vQkgsiI6ESyUE4NxB11bOJWI2j2tAi0MYAKGw4ZHCb8" />
    
    <title>æ˜Ÿå±‘ã®ç¥è¨— | æœ¬æ ¼éœŠè¦–ãƒ»ã‚¿ãƒ­ãƒƒãƒˆãƒ»AIæ‰‹ç›¸é‘‘å®š</title>
    <meta name="description" content="ãƒ—ãƒ­ã®é‘‘å®šå£«ã«ã‚ˆã‚‹æœ¬ç‰©ã®å ã„ã€‚ã‚¿ãƒ­ãƒƒãƒˆã€é­‚ã®å¥¥åº•ã‚’é€è¦–ã™ã‚‹ãƒ„ã‚¤ãƒ³ãƒ¬ã‚¤é‘‘å®šã€AIã«ã‚ˆã‚‹æ‰‹ç›¸ã®æ·±å±¤ã‚¹ã‚­ãƒ£ãƒ³ã€‚">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&family=Shippori+Mincho:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --gold: #d4af37; --gold-light: #f9e5b5; --gold-dark: #a67c00;
            --bg-dark: #07040a; --bg-glass: rgba(15, 10, 22, 0.85);
            --border-glow: rgba(212, 175, 55, 0.3);
            --text-main: #f0ebe1; --text-sub: #b3a8c4;
            --accent-love: #c95b7a; --accent-palm: #20b2aa; /* æ‰‹ç›¸ç”¨ã®ã‚µã‚¤ãƒãƒ¼ã‚°ãƒªãƒ¼ãƒ³ */
        }
        
        body {
            margin: 0; padding: 25px 10px; min-height: 100vh;
            display: flex; flex-direction: column; align-items: center;
            background-color: var(--bg-dark);
            background-image: radial-gradient(circle at 20% 30%, rgba(45, 25, 75, 0.5), transparent 50%), radial-gradient(circle at 80% 70%, rgba(20, 30, 60, 0.4), transparent 50%);
            font-family: 'Shippori Mincho', serif; color: var(--text-main);
            box-sizing: border-box; overflow-x: hidden; line-height: 1.8; background-attachment: fixed;
        }

        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-track { background: var(--bg-dark); }
        ::-webkit-scrollbar-thumb { background: var(--gold-dark); border-radius: 3px; }

        .stars-bg { position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: -1; pointer-events: none; background-image: radial-gradient(1px 1px at 15% 25%, #fff, transparent), radial-gradient(1.5px 1.5px at 40% 65%, rgba(255,255,255,0.8), transparent), radial-gradient(1px 1px at 75% 35%, #fff, transparent), radial-gradient(2px 2px at 85% 85%, rgba(212,175,55,0.6), transparent); background-size: 250px 250px; animation: drift 80s linear infinite; opacity: 0.5; }
        @keyframes drift { from { transform: translateY(0); } to { transform: translateY(-250px); } }

        /* 3ã¤ã®ã‚¿ãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼ */
        .tab-container {
            display: flex; width: 100%; max-width: 700px; margin-bottom: 25px;
            background: rgba(0,0,0,0.6); border-radius: 8px; border: 1px solid rgba(255,255,255,0.05);
            position: relative; overflow: hidden; backdrop-filter: blur(10px); z-index: 10; box-shadow: 0 10px 30px rgba(0,0,0,0.8);
        }
        .tab-btn {
            flex: 1; padding: 14px 2px; text-align: center; cursor: pointer;
            font-size: 13px; font-weight: 600; color: var(--text-sub);
            background: transparent; border: none; border-right: 1px solid rgba(255,255,255,0.05); transition: 0.4s; letter-spacing: 1px;
        }
        .tab-btn:last-child { border-right: none; }
        .tab-btn:hover { color: var(--gold-light); background: rgba(255,255,255,0.05); }
        
        .tab-btn.active.t-daily { color: var(--gold); background: linear-gradient(180deg, rgba(212,175,55,0.15) 0%, transparent 100%); border-bottom: 2px solid var(--gold);}
        .tab-btn.active.t-destiny { color: var(--accent-love); background: linear-gradient(180deg, rgba(201,91,122,0.15) 0%, transparent 100%); border-bottom: 2px solid var(--accent-love);}
        .tab-btn.active.t-palm { color: var(--accent-palm); background: linear-gradient(180deg, rgba(32,178,170,0.15) 0%, transparent 100%); border-bottom: 2px solid var(--accent-palm);}

        .glass-panel { background: var(--bg-glass); backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px); border: 1px solid rgba(255,255,255,0.08); border-top: 1px solid var(--border-glow); border-radius: 12px; padding: 40px 30px; width: 100%; max-width: 700px; margin-bottom: 40px; box-shadow: 0 25px 50px rgba(0,0,0,0.9), inset 0 0 20px rgba(212,175,55,0.05); box-sizing: border-box; z-index: 10; }

        .advisor-profile { display: flex; flex-direction: column; align-items: center; text-align: center; margin-bottom: 35px; padding-bottom: 30px; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .advisor-photo-wrapper { position: relative; width: 120px; height: 120px; margin-bottom: 20px; border-radius: 50%; padding: 3px; background: linear-gradient(135deg, var(--gold), #222); box-shadow: 0 0 30px rgba(212,175,55,0.2); transition: 0.5s; }
        .advisor-photo { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; background: #111; }
        .advisor-role { font-family: 'Cinzel', serif; font-size: 12px; color: var(--gold); margin-bottom: 5px; letter-spacing: 3px; text-transform: uppercase; transition: 0.3s;}
        .advisor-name { font-size: 20px; color: #fff; font-weight: 700; margin-bottom: 12px; letter-spacing: 2px; }
        .advisor-bio { font-size: 13.5px; color: var(--text-sub); line-height: 1.9; text-align: justify; max-width: 500px; }
        @media (min-width: 550px) { .advisor-profile { flex-direction: row; text-align: left; align-items: center; } .advisor-photo-wrapper { margin-bottom: 0; margin-right: 30px; flex-shrink: 0; } }

        .site-title { font-family: 'Cinzel', serif; font-size: 28px; color: var(--gold); margin: 0 0 5px; text-align: center; letter-spacing: 5px; font-weight: 600; }
        .site-title-ja { font-size: 20px; color: #fff; text-align: center; margin: 0 0 5px; letter-spacing: 4px; font-weight: 600; }
        .site-subtitle { font-size: 12px; color: var(--text-sub); margin-bottom: 35px; text-align: center; letter-spacing: 2px; }

        .form-group { margin-bottom: 22px; }
        label { display: block; margin-bottom: 8px; font-size: 13px; color: var(--gold-light); letter-spacing: 1.5px; }
        .input-row { display: flex; gap: 15px; } .input-row > div { flex: 1; }
        input[type="text"], input[type="date"], select { width: 100%; padding: 15px; background: rgba(0,0,0,0.5); border: 1px solid rgba(255,255,255,0.15); border-radius: 6px; color: #fff; font-size: 15px; font-family: inherit; transition: 0.3s; color-scheme: dark; box-sizing: border-box;}
        select { appearance: none; background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2214%22%20height%3D%2214%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke%3D%22%23d4af37%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%3Cpolyline%20points%3D%226%209%2012%2015%2018%209%22%3E%3C%2Fpolyline%3E%3C%2Fsvg%3E"); background-repeat: no-repeat; background-position: right 15px center; }
        input:focus, select:focus { outline: none; border-color: var(--gold); box-shadow: 0 0 15px rgba(212,175,55,0.3); background: rgba(0,0,0,0.7); }

        /* ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚¨ãƒªã‚¢ (æ‰‹ç›¸ç”¨) */
        .upload-box { position: relative; border: 2px dashed rgba(32,178,170,0.4); border-radius: 8px; padding: 30px 20px; text-align: center; background: rgba(0,0,0,0.3); transition: 0.3s; cursor: pointer; overflow: hidden; margin-bottom: 10px;}
        .upload-box:hover { border-color: var(--accent-palm); background: rgba(32,178,170,0.05); }
        .upload-box input[type="file"] { position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; cursor: pointer; }
        .upload-icon { font-size: 30px; margin-bottom: 10px; }
        .upload-text { color: #fff; font-size: 14px; margin-bottom: 5px; font-weight: bold; letter-spacing: 1px;}
        .upload-sub { color: var(--text-sub); font-size: 11px; }
        
        .preview-container { display: none; margin-top: 15px; position: relative; width: 100%; max-width: 300px; margin-left: auto; margin-right: auto; border-radius: 8px; overflow: hidden; border: 1px solid var(--accent-palm); box-shadow: 0 0 20px rgba(32,178,170,0.3);}
        .preview-img { width: 100%; display: block; filter: contrast(1.1) grayscale(0.2); }

        button.main-btn { width: 100%; padding: 18px; margin-top: 15px; background: linear-gradient(135deg, var(--gold-dark), var(--gold-light), var(--gold-dark)); background-size: 200% auto; color: #000; font-family: inherit; font-size: 15px; font-weight: 700; border: none; border-radius: 6px; cursor: pointer; letter-spacing: 3px; transition: 0.5s; box-shadow: 0 5px 20px rgba(0,0,0,0.6); text-transform: uppercase; }
        button.main-btn:hover { background-position: right center; box-shadow: 0 0 25px rgba(212,175,55,0.6); transform: translateY(-2px); }
        button.love-btn { background: linear-gradient(135deg, #8a2846, #c95b7a, #8a2846); color: #fff; }
        button.love-btn:hover { box-shadow: 0 0 25px rgba(201, 91, 122, 0.6); }
        button.palm-btn { background: linear-gradient(135deg, #0f524e, #20b2aa, #0f524e); color: #fff; }
        button.palm-btn:hover { box-shadow: 0 0 25px rgba(32, 178, 170, 0.6); }

        .content-area { display: none; animation: fadeUp 0.8s cubic-bezier(0.2, 0.8, 0.2, 1); }
        .content-area.active { display: block; }
        @keyframes fadeUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* ã‚¹ã‚­ãƒ£ãƒ³æ¼”å‡ºãƒ»ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° */
        #loading { display: none; padding: 60px 0; text-align: center; }
        .mystic-wheel { width: 90px; height: 90px; margin: 0 auto 25px; border: 1px dashed rgba(212,175,55,0.5); border-top: 2px solid var(--gold); border-bottom: 2px solid var(--gold); border-radius: 50%; position: relative; animation: spin 3s linear infinite; }
        .mystic-wheel::after { content: "âœ§"; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: var(--gold); font-size: 35px; animation: pulse 1.5s infinite alternate;}
        
        .scan-container { position: relative; width: 220px; height: 280px; margin: 0 auto 25px; border-radius: 12px; overflow: hidden; border: 1px solid rgba(32,178,170,0.5); background: #000; display: none; box-shadow: 0 0 30px rgba(32,178,170,0.2); }
        .scan-target-img { width: 100%; height: 100%; object-fit: cover; opacity: 0.5; filter: contrast(1.3) grayscale(0.5); }
        .scanner-line { position: absolute; top: 0; left: 0; width: 100%; height: 3px; background: var(--accent-palm); box-shadow: 0 0 15px 5px rgba(32,178,170,0.6); z-index: 5; animation: scanMove 2s ease-in-out infinite alternate; }
        .scan-grid { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-image: linear-gradient(rgba(32,178,170,0.2) 1px, transparent 1px), linear-gradient(90deg, rgba(32,178,170,0.2) 1px, transparent 1px); background-size: 20px 20px; z-index: 2; pointer-events: none; }
        
        @keyframes spin { 100% { transform: rotate(360deg); } }
        @keyframes pulse { 100% { opacity: 0.4; transform: translate(-50%, -50%) scale(0.8); } }
        @keyframes scanMove { 0% { top: 0%; } 100% { top: 100%; } }
        
        .loading-text { font-family: 'Cinzel', serif; color: var(--gold); font-size: 15px; letter-spacing: 3px; font-weight: 600; animation: blink 1.5s infinite; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }

        /* çµæœç”»é¢ */
        .result-header { text-align: center; margin-bottom: 40px; }
        .result-name { font-size: 24px; color: #fff; font-weight: 700; letter-spacing: 2px; margin-bottom: 10px; }
        .result-meta { font-size: 13px; color: var(--gold); letter-spacing: 2px; font-family: 'Cinzel', serif; }

        .story-card { background: rgba(5,3,10,0.6); border: 1px solid rgba(255,255,255,0.05); border-radius: 8px; overflow: hidden; margin-bottom: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.6); }
        .story-img { width: 100%; height: 180px; object-fit: cover; opacity: 0.85; border-bottom: 1px solid rgba(212,175,55,0.2); }
        .love-theme .story-img { border-bottom-color: rgba(201,91,122,0.3); }
        .palm-theme .story-img { border-bottom-color: rgba(32,178,170,0.3); }
        
        .story-content { padding: 25px 20px; position: relative; }
        .story-title { font-size: 16.5px; color: var(--gold); margin-bottom: 15px; font-weight: 700; letter-spacing: 1px; border-left: 3px solid var(--gold); padding-left: 12px; }
        .love-theme .story-title { color: var(--accent-love); border-left-color: var(--accent-love); }
        .palm-theme .story-title { color: var(--accent-palm); border-left-color: var(--accent-palm); }
        
        .story-text { font-size: 15px; line-height: 2.2; color: #eaeaeb; text-align: justify; }
        .story-text p { margin: 0 0 18px 0; }
        .story-text p:last-child { margin: 0; }
        
        .highlight { color: #fff; font-weight: 700; background: linear-gradient(transparent 65%, rgba(212,175,55,0.4) 65%); }
        .love-highlight { color: #fff; font-weight: 700; background: linear-gradient(transparent 65%, rgba(201,91,122,0.5) 65%); }
        .palm-highlight { color: #fff; font-weight: 700; background: linear-gradient(transparent 65%, rgba(32,178,170,0.4) 65%); }
        .alert-text { color: #ff8e8e; font-weight: 700; border-bottom: 1px dashed #ff8e8e; }
        
        .rare-mark { display: inline-block; padding: 2px 8px; background: linear-gradient(90deg, #ffd700, #ff8c00); color: #000; font-size: 11px; border-radius: 4px; font-weight: bold; margin-left: 10px; vertical-align: middle; animation: blink 2s infinite;}

        .btn-retry { width: 100%; padding: 18px; background: rgba(0,0,0,0.3); border: 1px solid rgba(212,175,55,0.4); color: var(--gold); border-radius: 6px; cursor: pointer; font-size: 14px; transition: 0.4s; margin-top: 10px; letter-spacing: 3px; text-transform: uppercase; font-weight: 600; }
        .btn-retry:hover { background: rgba(212,175,55,0.15); color: #fff; box-shadow: 0 0 20px rgba(212,175,55,0.2); }
        .palm-theme .btn-retry { border-color: rgba(32,178,170,0.5); color: var(--accent-palm); }
        .palm-theme .btn-retry:hover { background: rgba(32,178,170,0.15); color: #fff; box-shadow: 0 0 20px rgba(32,178,170,0.3); }
    </style>
</head>
<body>

<div class="stars-bg"></div>

<div class="tab-container" id="tab-menu">
    <button class="tab-btn active t-daily" onclick="switchTab('daily')">DAILY<br><span style="font-size:10px; font-weight:normal;">ä»Šæ—¥ã®é‹å‹¢</span></button>
    <button class="tab-btn t-destiny" onclick="switchTab('destiny')">TWIN RAY<br><span style="font-size:10px; font-weight:normal;">é‹å‘½ã®ç›¸æ‰‹</span></button>
    <button class="tab-btn t-palm" onclick="switchTab('palm')">PALMISTRY<br><span style="font-size:10px; font-weight:normal;">AIæ‰‹ç›¸é‘‘å®š</span></button>
</div>

<div class="glass-panel">
    
    <div class="advisor-profile" id="profile-area">
        <div class="advisor-photo-wrapper" id="advPhotoWrap">
            <img id="advPhoto" src="image.png" alt="å ã„å¸«" class="advisor-photo">
        </div>
        <div class="advisor-info">
            <div class="advisor-role" id="advRole">Astrology & Tarot</div>
            <div class="advisor-name" id="advName">æ˜Ÿå° ãƒ«ãƒŸãƒŠ (Lumina)</div>
            <div class="advisor-bio" id="advBio">
                ä»£ã€…ç¶šãæ˜Ÿèª­ã¿ã®å®¶ç³»ã«ç”Ÿã¾ã‚Œã€è¥¿æ´‹å æ˜Ÿè¡“ã¨ã‚¿ãƒ­ãƒƒãƒˆã‚’çµ±åˆã€‚ã‚ãªãŸã®é­‚ã«åˆ»ã¾ã‚ŒãŸéå»ãƒ»ç¾åœ¨ãƒ»æœªæ¥ã®è¨˜éŒ²ã‚’èª­ã¿è§£ãã€é‹å‘½ã‚’å¥½è»¢ã•ã›ã‚‹å…·ä½“çš„ãªé“æ¨™ã‚’æç¤ºã—ã¾ã™ã€‚
            </div>
        </div>
    </div>

    <div id="form-daily" class="content-area active">
        <div class="site-title">ASTRAL ORACLE</div><h1 class="site-title-ja">æ˜Ÿå±‘ã®ç¥è¨—</h1>
        <p class="site-subtitle">ã€œ æ˜Ÿã®é…ç½®ã¨ã‚¿ãƒ­ãƒƒãƒˆãŒå‘Šã’ã‚‹ä»Šæ—¥ã®é‹å‘½ ã€œ</p>
        <div class="form-group"><label>ãŠåå‰ (NAME)</label><input type="text" id="name1" placeholder="ä¾‹ï¼šæ˜Ÿé‡ çµè¡£" autocomplete="off"></div>
        <div class="form-group"><label>ç”Ÿå¹´æœˆæ—¥ (BIRTH DATE)</label><input type="date" id="dob1"></div>
        <button class="main-btn" onclick="startDailyOracle()">é‹å‘½ã®ã‚«ãƒ¼ãƒ‰ã‚’å¼•ã</button>
    </div>

    <div id="form-destiny" class="content-area">
        <div class="site-title" style="color:var(--accent-love);">TRUE DESTINY</div><h1 class="site-title-ja">é‹å‘½ã®ç›¸æ‰‹ãƒ»æ·±å±¤éœŠè¦–</h1>
        <p class="site-subtitle">ã€œ é­‚ãƒ¬ãƒ™ãƒ«ã§æƒ¹ã‹ã‚Œåˆã†ã€ŒçœŸå®Ÿã®ä¼´ä¾¶ã€ã‚’ç‰¹å®š ã€œ</p>
        <div class="form-group"><label>ãŠåå‰ (NAME)</label><input type="text" id="name2" placeholder="ä¾‹ï¼šæœˆåŸ è“®" autocomplete="off"></div>
        <div class="input-row">
            <div class="form-group"><label>æ€§åˆ¥</label><select id="gender2"><option value="female">å¥³æ€§</option><option value="male">ç”·æ€§</option><option value="other">ãã®ä»–</option></select></div>
            <div class="form-group"><label>è¡€æ¶²å‹</label><select id="blood2"><option value="A">Aå‹</option><option value="B">Bå‹</option><option value="O">Oå‹</option><option value="AB">ABå‹</option><option value="unknown">ä¸æ˜</option></select></div>
        </div>
        <div class="form-group"><label>ç”Ÿå¹´æœˆæ—¥</label><input type="date" id="dob2"></div>
        <div class="form-group">
            <label>ç¾åœ¨ã®ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼çŠ¶æ³ â€»é‘‘å®šçµæœãŒå¤§ããåˆ†å²ã™ã‚‹é‡è¦é …ç›®ã§ã™</label>
            <select id="status2">
                <option value="single">ç¾åœ¨ãƒ•ãƒªãƒ¼ï¼ˆé‹å‘½ã®å‡ºä¼šã„ã‚’æ±‚ã‚ã¦ã„ã‚‹ï¼‰</option>
                <option value="partner">ç¾åœ¨ã€æ‹äººã‚„é…å¶è€…ï¼ˆæ—¦é‚£ãƒ»å¦»ï¼‰ãŒã„ã‚‹</option>
                <option value="complicated">è¤‡é›‘ãªé–¢ä¿‚ï¼ˆç‰‡æ€ã„ãƒ»ä¸å€«ãƒ»èª°ã«ã‚‚è¨€ãˆãªã„é–¢ä¿‚ãªã©ï¼‰</option>
            </select>
        </div>
        <button class="main-btn love-btn" onclick="startDestinyOracle()">é­‚ã®æ·±å±¤ã«æ¥ç¶šã™ã‚‹</button>
    </div>

    <div id="form-palm" class="content-area">
        <div class="site-title" style="color:var(--accent-palm);">AI PALM SCANNER</div><h1 class="site-title-ja">äººå·¥çŸ¥èƒ½ãƒ»æ‰‹ç›¸è§£æ</h1>
        <p class="site-subtitle">ã€œ ã‚¹ãƒãƒ›ã®ã‚«ãƒ¡ãƒ©ã§ã‚ãªãŸã®æ‰èƒ½ã¨å®¿å‘½ã‚’ãƒ‡ã‚¸ã‚¿ãƒ«è§£æ ã€œ</p>
        <div class="form-group"><label>ãŠåå‰ (NAME)</label><input type="text" id="name3" placeholder="ä¾‹ï¼šå¤©æµ· ç¿”" autocomplete="off"></div>
        
        <div class="form-group">
            <label>æ‰‹ã®ã²ã‚‰ã®å†™çœŸã‚’æ’®å½±ï¼ˆã¾ãŸã¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠï¼‰</label>
            <div class="upload-box" id="uploadBox">
                <input type="file" id="palmImage" accept="image/*" capture="environment" onchange="previewPalmImage(event)">
                <div class="upload-icon">ğŸ“·</div>
                <div class="upload-text">ã‚¿ãƒƒãƒ—ã—ã¦ã‚«ãƒ¡ãƒ©ã‚’èµ·å‹• / å†™çœŸã‚’é¸æŠ</div>
                <div class="upload-sub">â€»ç”»åƒã¯ã‚µãƒ¼ãƒãƒ¼ã«ä¿å­˜ã•ã‚Œã¾ã›ã‚“ã€‚ç«¯æœ«å†…ã®ã¿ã§è§£æã•ã‚Œã¾ã™ã€‚</div>
            </div>
            
            <div class="preview-container" id="previewContainer">
                <img id="palmPreview" class="preview-img" src="" alt="æ‰‹ç›¸ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼">
            </div>
        </div>

        <button class="main-btn palm-btn" onclick="startPalmOracle()">AIæ‰‹ç›¸è§£æã‚’å®Ÿè¡Œã™ã‚‹</button>
    </div>

    <div id="loading">
        <div class="mystic-wheel" id="mWheel"></div>
        
        <div class="scan-container" id="scanBox">
            <img src="" class="scan-target-img" id="scanTargetImg">
            <div class="scan-grid"></div>
            <div class="scanner-line" id="scannerLine"></div>
        </div>
        
        <div class="loading-text" id="loadingText">ACCESSING AKASHIC RECORDS...</div>
    </div>

    <div id="res-daily" class="content-area">
        <div class="result-header">
            <div class="result-name" id="resName1"></div>
            <div class="result-meta" id="resDate1"></div>
        </div>
        <div class="story-card">
            <img src="https://images.unsplash.com/photo-1633423712532-601e3b6d415e?q=80&w=800&auto=format&fit=crop" class="story-img" alt="Tarot">
            <div class="story-content">
                <div class="story-title" id="tarotCardName"></div>
                <div class="story-text" id="msgDailyTotal"></div>
            </div>
        </div>
        <button class="btn-retry" onclick="resetApp()">RETURN TO TOP</button>
    </div>

    <div id="res-destiny" class="content-area love-theme">
        <div class="result-header">
            <div class="result-name" id="resName2"></div>
            <div class="result-meta">TWIN RAY READING RESULT</div>
        </div>
        <div class="story-card"><img src="https://images.unsplash.com/photo-1518599904199-0ca897819ddb?q=80&w=800&auto=format&fit=crop" class="story-img" alt="Soul"><div class="story-content"><div class="story-title">ç¬¬1ç« ï¼šç¾åœ¨ã®çŠ¶æ³ã¨é­‚ã®çœŸå®Ÿ</div><div class="story-text" id="resD_status"></div></div></div>
        <div class="story-card"><img src="https://images.unsplash.com/photo-1462206092226-f46025ffe607?q=80&w=800&auto=format&fit=crop" class="story-img" alt="Past Life"><div class="story-content"><div class="story-title">ç¬¬2ç« ï¼šå‰ä¸–ã‹ã‚‰ã®å› ç¸</div><div class="story-text" id="resD_past"></div></div></div>
        <div class="story-card"><img src="https://images.unsplash.com/photo-1532012197267-da84d127e765?q=80&w=800&auto=format&fit=crop" class="story-img" alt="Appearance"><div class="story-content"><div class="story-title">ç¬¬3ç« ï¼šç›¸æ‰‹ã®ã€Œå®¹å§¿ã€ã¨ã€Œè£ã®é¡”ã€</div><div class="story-text" id="resD_char"></div></div></div>
        <div class="story-card"><img src="https://images.unsplash.com/photo-1501139083538-0139583c060f?q=80&w=800&auto=format&fit=crop" class="story-img" alt="Timing"><div class="story-content"><div class="story-title">ç¬¬4ç« ï¼šäº¤å·®ã™ã‚‹ã€Œæ™‚æœŸã€ã¨å‰å…†</div><div class="story-text" id="resD_timing"></div></div></div>
        <button class="btn-retry" style="border-color:var(--accent-love); color:var(--accent-love);" onclick="resetApp()">CLOSE AKASHIC RECORDS</button>
    </div>

    <div id="res-palm" class="content-area palm-theme">
        <div class="result-header">
            <div class="result-name" id="resName3"></div>
            <div class="result-meta">AI PALMISTRY ANALYSIS RESULT</div>
        </div>
        
        <div class="story-card" style="text-align:center; padding-top:25px;">
            <img id="resPalmImg" src="" alt="ã‚ãªãŸã®æ‰‹ç›¸" style="width:140px; height:140px; object-fit:cover; border-radius:50%; border:3px solid var(--accent-palm); box-shadow:0 0 20px rgba(32,178,170,0.4);">
            <div style="font-size:12px; color:var(--text-sub); margin-top:12px; letter-spacing: 1px;">ã‚¹ã‚­ãƒ£ãƒ³å®Œäº†ãƒ»ç”Ÿä½“ãƒ‡ãƒ¼ã‚¿æŠ½å‡ºæ¸ˆ</div>
        </div>

        <div class="story-card">
            <div class="story-content">
                <div class="story-title">ç”Ÿå‘½ç·šï¼ˆLife Lineï¼‰ã®è§£æ</div>
                <div class="story-text" id="resP_life"></div>
            </div>
        </div>
        <div class="story-card">
            <div class="story-content">
                <div class="story-title">çŸ¥èƒ½ç·šï¼ˆHead Lineï¼‰ã®è§£æ</div>
                <div class="story-text" id="resP_head"></div>
            </div>
        </div>
        <div class="story-card">
            <div class="story-content">
                <div class="story-title">æ„Ÿæƒ…ç·šï¼ˆHeart Lineï¼‰ã®è§£æ</div>
                <div class="story-text" id="resP_heart"></div>
            </div>
        </div>
        <div class="story-card">
            <div class="story-content">
                <div class="story-title">é‹å‘½ç·šï¼ˆFate Lineï¼‰ã®è§£æ</div>
                <div class="story-text" id="resP_fate"></div>
            </div>
        </div>
        
        <div class="story-card" id="cardRare" style="display:none; border-color:var(--gold);">
            <div class="story-content">
                <div class="story-title" style="color:var(--gold); border-left-color:var(--gold);">ç‰¹æ®Šç›¸ï¼ˆRare Signï¼‰ã®ç™ºè¦‹<span class="rare-mark">æ¿€ãƒ¬ã‚¢</span></div>
                <div class="story-text" id="resP_rare" style="color:var(--gold-light);"></div>
            </div>
        </div>

        <button class="btn-retry" style="border-color:var(--accent-palm); color:var(--accent-palm);" onclick="resetApp()">FINISH ANALYSIS</button>
    </div>

</div>

<script>
    // --- ğŸ”® å ã„å¸«ãƒ‡ãƒ¼ã‚¿ ---
    const advisors = {
        daily: { photo: "image.png", role: "Astrology & Tarot", name: "æ˜Ÿå° ãƒ«ãƒŸãƒŠ (Lumina)", bio: "ä»£ã€…ç¶šãæ˜Ÿèª­ã¿ã®å®¶ç³»ã«ç”Ÿã¾ã‚Œã€è¥¿æ´‹å æ˜Ÿè¡“ã¨ã‚¿ãƒ­ãƒƒãƒˆã‚’çµ±åˆã€‚ã‚ãªãŸã®é­‚ã«åˆ»ã¾ã‚ŒãŸéå»ãƒ»ç¾åœ¨ãƒ»æœªæ¥ã®è¨˜éŒ²ã‚’èª­ã¿è§£ãã€é‹å‘½ã‚’å¥½è»¢ã•ã›ã‚‹å…·ä½“çš„ãªé“æ¨™ã‚’æç¤ºã—ã¾ã™ã€‚" },
        destiny: { photo: "image2.png", role: "Twin Ray Reader", name: "å¤©éœ§ çµç¥ˆ (Yuki Amagiri)", bio: "å¹¼å°‘æœŸã‚ˆã‚Šä»–è€…ã®ã€Œã”ç¸ã®ç³¸ã€ãŒè¦–ãˆã‚‹ç‰¹ç•°ä½“è³ªã‚’æŒã¤ã€‚ç¾åœ¨ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ãŒã„ã‚‹æ–¹ã§ã‚‚ã€é­‚ãƒ¬ãƒ™ãƒ«ã§ã®ã€æœ¬å½“ã®é‹å‘½ã®ç›¸æ‰‹ï¼ˆãƒ„ã‚¤ãƒ³ãƒ¬ã‚¤ï¼‰ã€ã‚’æ­£ç¢ºã«ç‰¹å®šã—ã€å½ã‚Šã®ãªã„çœŸå®Ÿã‚’ãŠä¼ãˆã—ã¾ã™ã€‚" },
        palm: { photo: "image3.png", role: "AI Palmistry System", name: "ç¥å®®å¯º å¸ (Tsukasa Jinguji)", bio: "æœ€æ–°ã®äººå·¥çŸ¥èƒ½ã«ã‚ˆã‚‹ãƒ‡ã‚£ãƒ¼ãƒ—ãƒ©ãƒ¼ãƒ‹ãƒ³ã‚°ç”»åƒè§£æã¨ã€å¤ä»£ã‚¤ãƒ³ãƒ‰ã®æ‰‹ç›¸å­¦ã‚’å®Œå…¨ã«çµ±åˆã—ãŸã‚·ã‚¹ãƒ†ãƒ ã€‚æŒã«åˆ»ã¾ã‚ŒãŸã‚·ãƒ¯ã®æ·±ã•ã€è§’åº¦ã€äº¤å·®ã‚’ã‚³ãƒ³ãƒ1ãƒŸãƒªå˜ä½ã§ã‚¹ã‚­ãƒ£ãƒ³ã—ã€ã‚ãªãŸã®ç„¡æ„è­˜ã®æ‰èƒ½ã¨æœªæ¥ã‚’ä¸¸è£¸ã«ã—ã¾ã™ã€‚" }
    };

    // ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
    function switchTab(type) {
        document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
        document.querySelectorAll('.content-area').forEach(div => div.classList.remove('active'));
        
        document.querySelector(`.tab-btn.t-${type}`).classList.add('active');
        document.getElementById('form-' + type).classList.add('active');

        const photoEl = document.getElementById('advPhoto');
        photoEl.style.opacity = 0;
        setTimeout(() => {
            // ã‚‚ã—ç”»åƒãŒå­˜åœ¨ã—ãªã„å ´åˆã¯ãƒ€ãƒŸãƒ¼ç”»åƒã‚’è¡¨ç¤º
            photoEl.onerror = () => { photoEl.src = 'https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=200&fit=crop'; };
            photoEl.src = advisors[type].photo;
            
            document.getElementById('advRole').innerText = advisors[type].role;
            document.getElementById('advName').innerText = advisors[type].name;
            document.getElementById('advBio').innerText = advisors[type].bio;
            
            const pWrap = document.querySelector('.advisor-photo-wrapper');
            if(type === 'destiny') {
                document.getElementById('advRole').style.color = 'var(--accent-love)';
                pWrap.style.background = 'linear-gradient(135deg, var(--accent-love), #222)';
                pWrap.style.boxShadow = '0 0 30px rgba(201,91,122,0.3)';
            } else if(type === 'palm') {
                document.getElementById('advRole').style.color = 'var(--accent-palm)';
                pWrap.style.background = 'linear-gradient(135deg, var(--accent-palm), #222)';
                pWrap.style.boxShadow = '0 0 30px rgba(32,178,170,0.3)';
            } else {
                document.getElementById('advRole').style.color = 'var(--gold)';
                pWrap.style.background = 'linear-gradient(135deg, var(--gold), #222)';
                pWrap.style.boxShadow = '0 0 30px rgba(212,175,55,0.2)';
            }
            photoEl.style.opacity = 1;
        }, 300);
    }

    // æ“¬ä¼¼ä¹±æ•°ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼
    function getSeededRandom(seedStr) {
        let seed = 0;
        for (let i = 0; i < seedStr.length; i++) seed = seedStr.charCodeAt(i) + ((seed << 5) - seed);
        seed = Math.abs(seed);
        return function() { let x = Math.sin(seed++) * 10000; return x - Math.floor(x); }
    }

    // --- å…±é€šãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º ---
    // isPalm = true ã®æ™‚ã¯ç”»åƒã‚¹ã‚­ãƒ£ãƒ³ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¡¨ç¤º
    function showLoading(text, color, isPalm, callback) {
        document.getElementById("tab-menu").style.display = "none";
        document.getElementById("profile-area").style.display = "none";
        document.querySelectorAll(".content-area").forEach(el => el.classList.remove("active"));
        
        const loader = document.getElementById("loading");
        const lText = document.getElementById("loadingText");
        lText.innerText = text;
        lText.style.color = color;
        
        if (isPalm) {
            document.getElementById("mWheel").style.display = "none";
            document.getElementById("scanBox").style.display = "block";
            document.getElementById("scannerLine").style.display = "block";
        } else {
            document.getElementById("scanBox").style.display = "none";
            const mWheel = document.getElementById("mWheel");
            mWheel.style.display = "block";
            mWheel.style.borderColor = `rgba(255,255,255,0.2)`; 
            mWheel.style.borderTopColor = color;
            mWheel.style.borderBottomColor = color;
        }
        
        loader.style.display = "block";
        window.scrollTo({ top: 0, behavior: "smooth" });

        // AIã‚¹ã‚­ãƒ£ãƒ³ã¯é•·ã‚ã«æ¼”å‡º
        const waitTime = isPalm ? 4500 : 3000;
        setTimeout(() => {
            loader.style.display = "none";
            if(isPalm) document.getElementById("scannerLine").style.display = "none";
            callback();
        }, waitTime); 
    }

    function resetApp() {
        document.querySelectorAll(".content-area").forEach(el => el.classList.remove("active"));
        document.getElementById("tab-menu").style.display = "flex";
        document.getElementById("profile-area").style.display = "flex";
        
        const activeTab = document.querySelector('.tab-btn.active').classList.contains('t-daily') ? 'form-daily' : 
                          document.querySelector('.tab-btn.active').classList.contains('t-destiny') ? 'form-destiny' : 'form-palm';
        document.getElementById(activeTab).classList.add("active");
        window.scrollTo({ top: 0, behavior: "smooth" });
    }

    // ==========================================
    // ğŸŒŸ å ã„1ï¼šæ—¥ã€…ã®é‹å‹¢ 
    // ==========================================
    const tarots = [{ name: "æ„šè€…", m: "æœªçŸ¥ã¸ã®æŒ‘æˆ¦ã€‚" },{ name: "é­”è¡“å¸«", m: "å‰µé€ åŠ›ã€æ–°ã—ã„å§‹ã¾ã‚Šã€‚" },{ name: "å¥³å¸", m: "è±Šã‹ã•ã¨æ„›æƒ…ã®æˆå°±ã€‚" },{ name: "é‹å‘½ã®è¼ª", m: "å¥½è»¢ã€ãƒãƒ£ãƒ³ã‚¹åˆ°æ¥ã€‚" },{ name: "æ˜Ÿ", m: "å¸Œæœ›ã¨æ·±ã„ç™’ã‚„ã—ã€‚" }];
    function startDailyOracle() {
        const name = document.getElementById("name1").value.trim();
        const dob = document.getElementById("dob1").value;
        if (!name || !dob) return alert("ãŠåå‰ã¨ç”Ÿå¹´æœˆæ—¥ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚");

        showLoading("READING ASTROLOGICAL ALIGNMENTS...", "var(--gold)", false, () => {
            const dateStr = `${new Date().getFullYear()}${new Date().getMonth()}${new Date().getDate()}`;
            const random = getSeededRandom(name + dob + dateStr); 
            const tarot = tarots[Math.floor(random() * tarots.length)];
            const position = random() > 0.7 ? "ï¼ˆé€†ä½ç½®ï¼‰" : "ï¼ˆæ­£ä½ç½®ï¼‰";

            document.getElementById("resName1").innerText = name + " æ§˜";
            document.getElementById("resDate1").innerText = `TODAY'S ORACLE`;
            document.getElementById("tarotCardName").innerText = "å°ãã®ã‚«ãƒ¼ãƒ‰ï¼š " + tarot.name + " " + position;
            document.getElementById("msgDailyTotal").innerHTML = `<p>æœ¬æ—¥ã®å¤©ç©ºå›³ã‚’èª­ã¿è§£ãã¨ã€æœˆãŒå¹¸é‹ã®æ˜Ÿã¨é‡ãªã‚Šå¼·åŠ›ãªã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’æ”¾ã£ã¦ã„ã¾ã™ã€‚</p><p>å¼•ã‹ã‚ŒãŸã‚«ãƒ¼ãƒ‰ã¯ã€${tarot.name}ã€${position}ã€‚${tarot.m} ä»Šæ—¥ã¯ç›´æ„Ÿã®èµ´ãã¾ã¾ã«è¡Œå‹•ã—ã€å®‡å®™ã‹ã‚‰ã®ã‚µã‚¤ãƒ³ã‚’å—ã‘å–ã£ã¦ãã ã•ã„ã€‚</p>`;
            document.getElementById("res-daily").classList.add("active");
        });
    }

    // ==========================================
    // ğŸ’• å ã„2ï¼šé‹å‘½ã®ç›¸æ‰‹ 
    // ==========================================
    function startDestinyOracle() {
        const name = document.getElementById("name2").value.trim();
        const dob = document.getElementById("dob2").value;
        const status = document.getElementById("status2").value;
        if (!name || !dob) return alert("æ·±å±¤éœŠè¦–ã‚’è¡Œã†ãŸã‚ã€ãŠåå‰ã¨ç”Ÿå¹´æœˆæ—¥ã¯å¿…é ˆã§ã™ã€‚");

        showLoading("ACCESSING SOUL CONTRACTS...", "var(--accent-love)", false, () => {
            const random = getSeededRandom(name + dob + status + "v_premium"); 
            document.getElementById("resName2").innerText = name + " æ§˜";

            let msgStatus = "";
            if (status === "single") {
                msgStatus = `<p>ç¾åœ¨ãƒ•ãƒªãƒ¼ã®ã‚ãªãŸã€‚ç„¡æ„è­˜ã«å¿ƒã®å£ã‚’ä½œã£ã¦ã„ã‚‹æ³¢å‹•ãŒè¦–ãˆã¾ã™ã€‚ã—ã‹ã—ã€ã‚ãªãŸã®<span class='love-highlight'>é­‚ã®åŠèº«ï¼ˆãƒ„ã‚¤ãƒ³ãƒ¬ã‚¤ï¼‰</span>ã¯ã€ã™ã§ã«ã‚ãªãŸã®ã™ãè¿‘ãã¾ã§æ¥è¿‘ã—ã¦ãã¦ã„ã¾ã™ã€‚</p>`;
            } 
            else if (status === "partner") {
                // ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ãŒã„ã‚‹å ´åˆã®ç¢ºå®šæ–‡è¨€ï¼ˆ3ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†å²ï¼‰
                const partnerVariations = [
                    `<p>ä»Šã®ãŠç›¸æ‰‹ã¨ã®ã”ç¸ã‚‚æ±ºã—ã¦è–„ã„ã‚‚ã®ã§ã¯ãªãã€ç¾ä¸–ã«ãŠã„ã¦å¤§åˆ‡ãªå­¦ã³ã‚’ä¸ãˆåˆã†ã‚½ã‚¦ãƒ«ãƒ¡ã‚¤ãƒˆã§ã™ã€‚ã—ã‹ã—é­‚ã®æœ€æ·±éƒ¨ã«æ½œã£ã¦ã¿ã‚‹ã¨ã€<span class='love-highlight'>ã‚ãªãŸã®ã€æœ¬å½“ã®é‹å‘½ã®ç›¸æ‰‹ã€ã¯ã€åˆ¥ã«ã‚‚ã†ä¸€äººå­˜åœ¨ã—ã¦ã„ã‚‹</span>ã¨ã„ã†å¼·çƒˆãªæ³¢å‹•ã‚’æ„Ÿã˜ã¾ã™ã€‚</p>`,
                    `<p>ç¾åœ¨ã®ãŠç›¸æ‰‹ã¨ã¯å‰ä¸–ã‹ã‚‰ã®ã€æ·±ã„ã‚«ãƒ«ãƒã€ã®è§£æ¶ˆã®ãŸã‚ã«çµã°ã‚Œã¦ã„ã¾ã™ã€‚ã“ã®æ¸…ç®—ãŒé€²ã‚€ã«ã¤ã‚Œã€ã‚ã‚‹çœŸå®ŸãŒæµ®ãå½«ã‚Šã«ãªã‚Šã¾ã™ã€‚ãã‚Œã¯ã€<span class='love-highlight'>ã‚ãªãŸã®ã€æœ¬å½“ã®é‹å‘½ã®ç›¸æ‰‹ã€ã¯ã€åˆ¥ã«ã‚‚ã†ä¸€äººå­˜åœ¨ã—ã¦ã„ã‚‹</span>ã¨ã„ã†äº‹å®Ÿã§ã™ã€‚</p>`,
                    `<p>ç¾åœ¨ã®é–¢ä¿‚æ€§ã«ãŠã„ã¦ã€ã‚ãªãŸã®é­‚ã¯ä»Šã€éå¸¸ã«å¤§ããªè»¢æ›æœŸã‚’è¿ãˆã¦ã„ã¾ã™ã€‚ã‚¢ã‚«ã‚·ãƒƒã‚¯ãƒ¬ã‚³ãƒ¼ãƒ‰ã®è¨˜è¿°ã¯æ®‹é…·ãªã¾ã§ã«æ˜ç¢ºã§ã™ã€‚<span class='love-highlight'>ã‚ãªãŸã®ã€æœ¬å½“ã®é‹å‘½ã®ç›¸æ‰‹ã€ã¯ã€åˆ¥ã«ã‚‚ã†ä¸€äººå­˜åœ¨ã—ã¦ã„ã‚‹</span>ã®ã§ã™ã€‚</p>`
                ];
                msgStatus = partnerVariations[Math.floor(random() * partnerVariations.length)];
            } 
            else { 
                msgStatus = `<p>ç¾åœ¨ã€è¤‡é›‘ãªé–¢ä¿‚æ€§ã®ä¸­ã§é­‚ãŒã™ã‚Šæ¸›ã£ã¦ã„ã¾ã™ã€‚<span class='alert-text'>ã‚ãªãŸãŒä»ŠåŸ·ç€ã—ã¦ã„ã‚‹ãã®æ–¹ã¯ã€æœ¬å½“ã®é‹å‘½ã®ç›¸æ‰‹ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</span>åŸ·ç€ã‚’æ‰‹æ”¾ã—ãŸç¬é–“ã«æœ¬ç‰©ã®æ„›ãŒå…¥ã‚Šè¾¼ã‚€ã‚¹ãƒšãƒ¼ã‚¹ãŒç”Ÿã¾ã‚Œã¾ã™ã€‚</p>`;
            }
            document.getElementById("resD_status").innerHTML = msgStatus;
            document.getElementById("resD_past").innerHTML = `<p>äºŒäººã¯éå»ä¸–ã§æ·±ãæ„›ã—åˆã„ãªãŒã‚‰ã‚‚å¼•ãè£‚ã‹ã‚ŒãŸå› ç¸ãŒã‚ã‚Šã¾ã™ã€‚ãã®å¼·çƒˆãªå¿µãŒç£çŸ³ã¨ãªã‚Šã€ç¾ä»£ã§å†ã³å¼•ãåˆã£ã¦ã„ã¾ã™ã€‚</p>`;
            
            const t_charBack = ["ã‚ãªãŸã«ã ã‘ã¯ã€Œç”˜ãˆã‚“åŠã€ãªä¸€é¢ã‚’è¦‹ã›ã¾ã™ã€‚", "éå¸¸ã«å«‰å¦¬æ·±ãã€å¼·ã„ç‹¬å æ¬²ã‚’å†…ã«ç§˜ã‚ã¦ã„ã¾ã™ã€‚", "ã‚ãªãŸã®å‰ã§ã¯å­ä¾›ã®ã‚ˆã†ã«ç„¡é˜²å‚™ã«ãªã‚Šã¾ã™ã€‚"];
            document.getElementById("resD_char").innerHTML = `<p>è¡¨å‘ãã¯çœŸé¢ç›®ã§ã‚¯ãƒ¼ãƒ«ã§ã™ãŒã€æ·±ã„ä»²ã«ãªã‚‹ã¨è±¹å¤‰ã—ã¾ã™ã€‚<span class='love-highlight'>${t_charBack[Math.floor(random() * t_charBack.length)]}</span></p>`;
            document.getElementById("resD_timing").innerHTML = `<p>äºŒäººã®é­‚ã®è»Œé“ãŒå®Œå…¨ã«äº¤å·®ã™ã‚‹æ™‚æœŸã¯ã€ã‚ãªãŸãŒã€ä»Šã®åŸ·ç€ã‚’æ‰‹æ”¾ã—ãŸç›´å¾Œã€ã§ã™ã€‚æ•°å­—ã®ã‚¾ãƒ­ç›®ã‚’ã‚ˆãè¦‹ã‚‹ã‚ˆã†ã«ãªã£ãŸã‚‰ã€ãã‚ŒãŒåˆå›³ã§ã™ã€‚</p>`;

            document.getElementById("res-destiny").classList.add("active");
        });
    }

    // ==========================================
    // âœ‹ å ã„3ï¼šAIæ‰‹ç›¸é‘‘å®š 
    // ==========================================
    let currentImageInfo = ""; // ã‚·ãƒ¼ãƒ‰ç”Ÿæˆç”¨ã®ç”»åƒæƒ…å ±

    // ã‚«ãƒ¡ãƒ©/ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã®ç”»åƒãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
    function previewPalmImage(event) {
        const file = event.target.files[0];
        if (file) {
            // ç”»åƒåã¨ã‚µã‚¤ã‚ºã‚’æ–‡å­—åˆ—ã«ã—ã¦ã‚·ãƒ¼ãƒ‰ã®å…ƒã«ã™ã‚‹
            currentImageInfo = file.name + "_" + file.size; 
            const reader = new FileReader();
            reader.onload = function(e) {
                const src = e.target.result;
                document.getElementById("palmPreview").src = src;
                document.getElementById("scanTargetImg").src = src;
                document.getElementById("resPalmImg").src = src;
                document.getElementById("uploadBox").style.display = "none";
                document.getElementById("previewContainer").style.display = "block";
            }
            reader.readAsDataURL(file);
        }
    }

    const p_lifes = [
        "æ‰‹é¦–ã®æ–¹ã¾ã§å¤ªãæ·±ãã€éå¸¸ã«ãã£ãã‚Šã¨åˆ»ã¾ã‚Œã¦ã„ã¾ã™ã€‚<span class='palm-highlight'>æã‚ã—ã„ã»ã©ã®ç”Ÿå‘½åŠ›ã¨ãƒã‚¤ã‚¿ãƒªãƒ†ã‚£</span>ã‚’ç§˜ã‚ã¦ãŠã‚Šã€é€†å¢ƒã«ãªã‚Œã°ãªã‚‹ã»ã©ç‡ƒãˆä¸ŠãŒã‚‹å¼·é­ãªå¿ƒèº«ã‚’æŒã£ã¦ã„ã¾ã™ã€‚",
        "ã‚«ãƒ¼ãƒ–ãŒå¤§ããã€é‡‘æ˜Ÿä¸˜ï¼ˆè¦ªæŒ‡ã®ä»˜ã‘æ ¹ã®è†¨ã‚‰ã¿ï¼‰ã‚’åºƒãå›²ã‚€ã‚ˆã†ã«ä¼¸ã³ã¦ã„ã¾ã™ã€‚éå¸¸ã«æ„›æƒ…æ·±ãã€äººã‚’å¼•ãä»˜ã‘ã‚‹å¼·ã„é­…åŠ›ï¼ˆã‚«ãƒªã‚¹ãƒæ€§ï¼‰ã‚’æ”¾ã£ã¦ã„ã¾ã™ã€‚å¸¸ã«å‘¨å›²ã«äººãŒé›†ã¾ã‚‹äººç”Ÿã§ã™ã€‚",
        "ç”Ÿå‘½ç·šã«æ²¿ã£ã¦ã‚‚ã†ä¸€æœ¬ã€ŒäºŒé‡ç”Ÿå‘½ç·šã€ãŒAIã«ã‚ˆã£ã¦ã‚¹ã‚­ãƒ£ãƒ³ã•ã‚Œã¾ã—ãŸã€‚ã“ã‚Œã¯<span class='palm-highlight'>äººã®2å€ã®ä½“åŠ›ã¨é‹ã®å¼·ã•ã‚’æŒã¤ã‚µã‚¤ãƒ³</span>ã§ã™ã€‚ãƒˆãƒ©ãƒ–ãƒ«ã‚‚å¥‡è·¡çš„ã«å›é¿ã§ãã‚‹å¼·é‹ã®æŒã¡ä¸»ã§ã™ã€‚"
    ];
    const p_heads = [
        "çœŸæ¨ªã«ä¸€ç›´ç·šã«ã‚¹ãƒƒã¨ä¼¸ã³ã¦ã„ã¾ã™ã€‚éå¸¸ã«è«–ç†çš„ã§ç¾å®Ÿä¸»ç¾©ã€‚æ„Ÿæƒ…ã«æµã•ã‚Œãšã€å†·é™ã«ç‰©äº‹ã‚’åˆ†æã—ã¦ç¢ºå®Ÿãªæˆæœã‚’å‡ºã™ã€Œç”Ÿç²‹ã®ãƒ“ã‚¸ãƒã‚¹ãƒ‘ãƒ¼ã‚½ãƒ³ã€ã®æ€è€ƒå›è·¯ã§ã™ã€‚",
        "æœˆä¸˜ï¼ˆæ‰‹é¦–ã®å°æŒ‡å´ï¼‰ã«å‘ã‹ã£ã¦ã€ç¾ã—ã„ã‚«ãƒ¼ãƒ–ã‚’æã„ã¦æ·±ãå‚ã‚Œä¸‹ãŒã£ã¦ã„ã¾ã™ã€‚<span class='palm-highlight'>æ¥µã‚ã¦é«˜ã„æƒ³åƒåŠ›ã¨ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ãªæ‰èƒ½</span>ã®æŒã¡ä¸»ã§ã™ã€‚èŠ¸è¡“ã‚„ãƒ‡ã‚¶ã‚¤ãƒ³ã€ç›´æ„Ÿã‚’æ´»ã‹ã™ä»•äº‹ã§å¤§æˆã—ã¾ã™ã€‚",
        "å…ˆç«¯ãŒå¤§ããäºŒè‚¡ã«æåˆ†ã‹ã‚Œã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€Œå¤šèŠ¸å¤šæ‰ã€ã®è¨¼ã€‚å…¨ãç•°ãªã‚‹è¤‡æ•°ã®åˆ†é‡ã§æ‰èƒ½ã‚’ç™ºæ®ã—ã€å‰¯æ¥­ã‚„ãƒ‘ãƒ©ãƒ¬ãƒ«ã‚­ãƒ£ãƒªã‚¢ã§å¤§æˆåŠŸã‚’åã‚ã‚‹å¯èƒ½æ€§ã‚’ç§˜ã‚ã¦ã„ã¾ã™ã€‚"
    ];
    const p_hearts = [
        "äººå·®ã—æŒ‡ã¨ä¸­æŒ‡ã®é–“ã«å‘ã‹ã£ã¦ã€æ€¥ã‚«ãƒ¼ãƒ–ã‚’æã„ã¦ä¼¸ã³ã¦ã„ã¾ã™ã€‚<span class='palm-highlight'>éå¸¸ã«æƒ…ç†±çš„ã§ã€å¥½ãã«ãªã£ãŸã‚‰ä¸€ç›´ç·šã®ãƒ­ãƒãƒ³ãƒã‚¹ãƒˆ</span>ã§ã™ã€‚æ„›æƒ…è¡¨ç¾ãŒè±Šã‹ã§ã€ç›¸æ‰‹ã«å°½ãã™ã“ã¨ã«å–œã³ã‚’æ„Ÿã˜ã¾ã™ã€‚",
        "ç›´ç·šçš„ã§ã€æ„Ÿæƒ…ç·šã®ä¹±ã‚ŒãŒã»ã¨ã‚“ã©ã‚ã‚Šã¾ã›ã‚“ã€‚æ‹æ„›ã«ãŠã„ã¦ã‚‚éå¸¸ã«ã‚¯ãƒ¼ãƒ«ã§ã€æ„Ÿæƒ…ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã™ã‚‹è¡“ã«é•·ã‘ã¦ã„ã¾ã™ã€‚æƒ…ã«æµã•ã‚Œãšã€è‡ªåˆ†ã«ã¨ã£ã¦ãƒ—ãƒ©ã‚¹ã«ãªã‚‹ç›¸æ‰‹ã‚’çš„ç¢ºã«è¦‹æ¥µã‚ã¾ã™ã€‚",
        "å…ˆç«¯ãŒå°ã•ãä¸‰å‰ã«åˆ†ã‹ã‚Œã¦ã„ã¾ã™ã€‚ã€Œå¹¸é‹ã®å¥³ç¥ã®ç·šã€ã¨ã‚‚å‘¼ã°ã‚Œã€å‘¨å›²ã®äººã®å¿ƒã‚’å’Œã¾ã›ã‚‹å¤©æ€§ã®ã€Œæ„›ã•ã‚Œã‚­ãƒ£ãƒ©ã€ã§ã™ã€‚èª°ã‹ã‚‰ã‚‚å¥½ã‹ã‚Œã€äººé–“é–¢ä¿‚ã«æµã¾ã‚Œã‚‹æ‰‹ç›¸ã§ã™ã€‚"
    ];
    const p_fates = [
        "æ‰‹é¦–ã®ä¸­å¤®ã‹ã‚‰ä¸­æŒ‡ã«å‘ã‹ã£ã¦ã€çœŸã£ç›´ãã«å¤ªã„ç·šãŒçªãæŠœã‘ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯<span class='palm-highlight'>ã€Œå¤©ä¸‹å–ã‚Šã®ç›¸ã€</span>ã€‚è‡ªåˆ†ã®å®ŸåŠ›ã¨ä¿¡å¿µã ã‘ã§ã€å¤§ããªæˆåŠŸã¨è²¡ç”£ã‚’ç¯‰ãä¸Šã’ã‚‹åœ§å€’çš„ãªè‡ªå·±å®Ÿç¾åŠ›ã‚’æŒã£ã¦ã„ã¾ã™ã€‚",
        "é‹å‘½ç·šãŒçŸ¥èƒ½ç·šã®ä¸Šã‹ã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€Œå¤§å™¨æ™©æˆã€ã®ã‚µã‚¤ãƒ³ã§ã™ã€‚è‹¥ã„é ƒã®è‹¦åŠ´ãŒ30ä»£å¾ŒåŠã€œ40ä»£ã§ä¸€æ°—ã«å ±ã‚ã‚Œã€ãã“ã‹ã‚‰é©šãã¹ãé£›èºã‚’é‚ã’ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒçµ„ã¾ã‚Œã¦ã„ã¾ã™ã€‚",
        "æœˆä¸˜ï¼ˆå°æŒ‡å´ã®ä¸‹éƒ¨ï¼‰ã‹ã‚‰æ–œã‚ã«é‹å‘½ç·šãŒä¼¸ã³ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€Œä»–åŠ›æœ¬é¡˜ã€ã§ã¯ãªãã€Œä»–è€…ã‹ã‚‰ã®å¼·çƒˆãªå¼•ãç«‹ã¦ã€ã‚’å—ã‘ã‚‹ç›¸ã€‚ã‚ãªãŸã®å®ŸåŠ›ä»¥ä¸Šã®ãƒãƒ£ãƒ³ã‚¹ã‚’ä»–äººãŒæŒã£ã¦ãã¦ãã‚Œã‚‹ãƒ©ãƒƒã‚­ãƒ¼ä½“è³ªã§ã™ã€‚"
    ];
    
    // æ¿€ãƒ¬ã‚¢ç›¸ï¼ˆä½ç¢ºç‡ã§å‡ºç¾ï¼‰
    const p_rares = [
        { name: "ç¥ç§˜åå­—ç·š", desc: "æ„Ÿæƒ…ç·šã¨çŸ¥èƒ½ç·šã®é–“ã«åå­—ã®ã‚¯ãƒ­ã‚¹ãŒæµ®ãå‡ºã¦ã„ã¾ã™ã€‚éå¸¸ã«å¼·ã„ç›´æ„ŸåŠ›ã¨ã€ã”å…ˆç¥–æ§˜ã‹ã‚‰ã®å¼·åŠ›ãªã”åŠ è­·ï¼ˆå®ˆè­·ï¼‰ã‚’æŒã¤äººã ã‘ã«ç¾ã‚Œã‚‹ç¥è–ãªãƒãƒ¼ã‚¯ã§ã™ã€‚" },
        { name: "è¦‡ç‹ç·šï¼ˆä¸‰å¥‡ç´‹ï¼‰", desc: "é‹å‘½ç·šã€å¤ªé™½ç·šã€è²¡é‹ç·šãŒä¸€ç‚¹ã§äº¤ã‚ã‚‹ã€æ•°ä¸‡äººã«ä¸€äººã®æœ€å¼·ã®æ‰‹ç›¸ãŒã‚¹ã‚­ãƒ£ãƒ³ã•ã‚Œã¾ã—ãŸã€‚ã©ã‚“åº•ã‹ã‚‰ã§ã‚‚é€™ã„ä¸ŠãŒã‚Šã€è«å¤§ãªå¯Œã¨åå£°ã‚’æ‰‹ã«å…¥ã‚Œã‚‹ç‹è€…ã®æ‰‹ç›¸ã§ã™ã€‚" },
        { name: "ã‚½ãƒ­ãƒ¢ãƒ³ã®ç’°", desc: "äººå·®ã—æŒ‡ã®ä»˜ã‘æ ¹ã«åŠå††ã‚’æãç·šãŒç¢ºèªã•ã‚Œã¾ã—ãŸã€‚ã‚«ãƒªã‚¹ãƒæ€§ã€åœ§å€’çš„ãªæŒ‡å°åŠ›ã€ãã—ã¦å¼·çƒˆãªé‡å¿ƒã‚’æŒã¤ã€Œç‹ã®ç´ è³ªã€ã‚’è¡¨ã™éå¸¸ã«çã—ã„ç›¸ã§ã™ã€‚" },
        { name: "ä»çœ¼ç›¸", desc: "è¦ªæŒ‡ã®ç¬¬ä¸€é–¢ç¯€ã®ç·šãŒã€ç›®ç‰ã®ã‚ˆã†ã«ä¸¸ããªã£ã¦ã„ã¾ã™ã€‚ãšã°æŠœã‘ãŸç›´æ„ŸåŠ›ã‚„è¶…èƒ½åŠ›ã«è¿‘ã„å‹˜ã®é‹­ã•ã‚’æŒã¡ã€äººã®å¿ƒã‚’è¦‹é€ã‹ã™èƒ½åŠ›ã‚’æŒã£ã¦ã„ã¾ã™ã€‚" }
    ];

    function startPalmOracle() {
        const name = document.getElementById("name3").value.trim();
        if (!name) return alert("AIã®è§£æãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ç™»éŒ²ã™ã‚‹ãŸã‚ã€ãŠåå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚");
        if (!currentImageInfo) return alert("æ‰‹ã®ã²ã‚‰ã®å†™çœŸã‚’æ’®å½±ã€ã¾ãŸã¯ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚");

        // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆã‚¹ã‚­ãƒ£ãƒ³ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•ï¼‰
        showLoading("DEEP SCANNING PALM LINES...", "var(--accent-palm)", true, () => {
            // ç”»åƒæƒ…å ±ï¼‹åå‰ã‹ã‚‰å›ºæœ‰ã®ã‚·ãƒ¼ãƒ‰å€¤ã‚’ç”Ÿæˆï¼ˆåŒã˜ç”»åƒãªã‚‰å¿…ãšåŒã˜çµæœã«ãªã‚‹ï¼‰
            const random = getSeededRandom(currentImageInfo + name + "ai_palm_v1"); 

            document.getElementById("resName3").innerText = name + " æ§˜";
            
            document.getElementById("resP_life").innerHTML = `<p>${p_lifes[Math.floor(random() * p_lifes.length)]}</p>`;
            document.getElementById("resP_head").innerHTML = `<p>${p_heads[Math.floor(random() * p_heads.length)]}</p>`;
            document.getElementById("resP_heart").innerHTML = `<p>${p_hearts[Math.floor(random() * p_hearts.length)]}</p>`;
            document.getElementById("resP_fate").innerHTML = `<p>${p_fates[Math.floor(random() * p_fates.length)]}</p>`;

            // ãƒ¬ã‚¢ç›¸åˆ¤å®š (ã‚·ãƒ¼ãƒ‰ã«åŸºã¥ã„ã¦ ç´„25% ã®ç¢ºç‡ã§å‡ºç¾)
            const cardRare = document.getElementById("cardRare");
            if (random() > 0.75) {
                const rareSign = p_rares[Math.floor(random() * p_rares.length)];
                document.getElementById("resP_rare").innerHTML = `<p>AIã®ãƒ‡ã‚£ãƒ¼ãƒ—ã‚¹ã‚­ãƒ£ãƒ³ã«ã‚ˆã‚Šã€ã‚ãªãŸã®æŒã«<strong style="color:#fff;">ã€${rareSign.name}ã€</strong>ãŒæ¤œå‡ºã•ã‚Œã¾ã—ãŸã€‚<br>${rareSign.desc}</p>`;
                cardRare.style.display = "block";
            } else {
                cardRare.style.display = "none";
            }

            document.getElementById("res-palm").classList.add("active");
        });
    }
</script>
</body>
</html>
