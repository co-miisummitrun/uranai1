<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="vQkgsiI6ESyUE4NxB11bOJWI2j2tAi0MYAKGw4ZHCb8" />
    
    <title>æ˜Ÿå±‘ã®ç¥è¨— - é­‚ã®è»Œè·¡ã¨çœŸå®Ÿã®æ„› -</title>
    <meta name="description" content="ç”Ÿã¾ã‚ŒæŒã£ãŸæœ¬è³ªã¨é‹å‹¢ã€ãã—ã¦ã€Œæœ¬å½“ã®é‹å‘½ã®ç›¸æ‰‹ã€ã‚’å°ãå‡ºã™æœ¬æ ¼ã‚¹ãƒ”ãƒªãƒãƒ¥ã‚¢ãƒ«å ã„ã€‚">
    <link href="https://fonts.googleapis.com/css2?family=Shippori+Mincho:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --gold: #e2c07d;
            --gold-light: #f9e5b5;
            --bg-glass: rgba(15, 10, 25, 0.85);
            --border-color: rgba(226, 192, 125, 0.3);
            --accent-daily: #8a63a5;
            --accent-love: #c95b7a; /* é‹å‘½ã®ç›¸æ‰‹ç”¨ã®èµ¤ç´«ã‚«ãƒ©ãƒ¼ */
            --text-main: #f4ede4;
            --text-sub: #a497b5;
        }
        
        body {
            margin: 0; padding: 20px 10px; min-height: 100vh;
            display: flex; flex-direction: column; align-items: center; justify-content: flex-start;
            background: radial-gradient(circle at center, #1a1025 0%, #05020a 100%);
            font-family: 'Shippori Mincho', serif; color: var(--text-main);
            box-sizing: border-box; overflow-x: hidden; line-height: 1.6;
        }

        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: rgba(0,0,0,0.3); }
        ::-webkit-scrollbar-thumb { background: var(--gold); border-radius: 3px; }

        /* èƒŒæ™¯ã®æ˜Ÿå±‘ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        .stars {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: -1;
            background-image: 
                radial-gradient(1.5px 1.5px at 20px 30px, #fff, transparent),
                radial-gradient(2px 2px at 50px 70px, #fff, transparent),
                radial-gradient(1px 1px at 90px 40px, #fff, transparent),
                radial-gradient(2px 2px at 130px 80px, #fff, transparent);
            background-repeat: repeat; background-size: 250px 250px;
            animation: twinkle 5s infinite alternate; opacity: 0.5;
        }
        @keyframes twinkle { 0% { opacity: 0.2; } 100% { opacity: 0.7; transform: scale(1.05); } }

        /* ã‚¿ãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼ */
        .tab-container {
            display: flex; width: 100%; max-width: 600px; margin-bottom: 25px;
            background: rgba(0,0,0,0.5); border-radius: 12px; border: 1px solid var(--border-color);
            overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.6);
        }
        .tab-btn {
            flex: 1; padding: 15px 10px; text-align: center; cursor: pointer;
            font-size: 14px; font-weight: bold; color: var(--text-sub);
            background: transparent; border: none; transition: 0.3s;
            font-family: inherit; letter-spacing: 1px;
        }
        .tab-btn:hover { background: rgba(226,192,125,0.1); color: var(--gold-light); }
        .tab-btn.active {
            background: linear-gradient(180deg, rgba(226,192,125,0.2) 0%, rgba(0,0,0,0) 100%);
            color: var(--gold); border-bottom: 2px solid var(--gold);
        }

        /* ãƒ¡ã‚¤ãƒ³ãƒ‘ãƒãƒ« */
        .glass-panel {
            background: var(--bg-glass); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
            border: 1px solid var(--border-color); border-radius: 16px;
            padding: 35px 25px; width: 100%; max-width: 600px; margin-bottom: 40px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.8), inset 0 0 20px rgba(226,192,125,0.05);
        }

        h1.site-title { font-size: 26px; color: var(--gold); margin: 0 0 5px; text-align: center; letter-spacing: 3px; text-shadow: 0 0 15px rgba(226,192,125,0.5); }
        p.site-subtitle { font-size: 13px; color: var(--text-sub); margin-bottom: 30px; text-align: center; letter-spacing: 2px; }

        /* å ã„å¸«ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ« */
        .advisor-profile { 
            margin-bottom: 30px; padding-bottom: 25px; border-bottom: 1px dashed var(--border-color); 
            display: flex; flex-direction: column; align-items: center; text-align: center; 
        }
        .advisor-photo {
            width: 110px; height: 110px; border-radius: 50%; object-fit: cover;
            border: 2px solid var(--gold); padding: 4px; margin-bottom: 15px;
            box-shadow: 0 0 20px rgba(226,192,125,0.3); transition: 0.5s ease-in-out;
        }
        .advisor-role { font-size: 12px; color: var(--text-sub); margin-bottom: 4px; letter-spacing: 2px;}
        .advisor-name { font-size: 18px; color: var(--gold-light); font-weight: bold; margin-bottom: 10px; letter-spacing: 1px;}
        .advisor-bio { font-size: 13.5px; color: #d0c8dd; line-height: 1.8; text-align: justify; padding: 0 10px; }

        @media (min-width: 480px) {
            .advisor-profile { flex-direction: row; text-align: left; align-items: flex-start; padding: 0 10px 25px;}
            .advisor-photo { margin-bottom: 0; margin-right: 25px; }
        }

        /* ãƒ•ã‚©ãƒ¼ãƒ  */
        .form-group { margin-bottom: 20px; text-align: left;}
        label { display: block; margin-bottom: 8px; font-size: 13.5px; color: var(--gold-light); letter-spacing: 1px; }
        input, select {
            width: 100%; padding: 14px; background: rgba(0,0,0,0.5);
            border: 1px solid var(--border-color); border-radius: 8px; color: #fff;
            font-size: 15px; font-family: inherit; box-sizing: border-box; transition: 0.3s;
            color-scheme: dark; appearance: none;
        }
        select { background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23e2c07d%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.4-12.8z%22%2F%3E%3C%2Fsvg%3E"); background-repeat: no-repeat; background-position: right 15px top 50%; background-size: 12px auto; cursor: pointer;}
        input:focus, select:focus { outline: none; border-color: var(--gold); box-shadow: 0 0 10px rgba(226,192,125,0.4); }
        option { background-color: #1a1025; }

        button.main-btn {
            width: 100%; padding: 18px; margin-top: 10px;
            background: linear-gradient(135deg, #8b6b32, #e2c07d, #8b6b32); background-size: 200% auto;
            color: #111; font-family: inherit; font-size: 16px; font-weight: bold;
            border: none; border-radius: 30px; cursor: pointer; letter-spacing: 2px;
            transition: 0.4s; box-shadow: 0 4px 15px rgba(0,0,0,0.5);
        }
        button.main-btn:hover { background-position: right center; box-shadow: 0 0 20px rgba(226,192,125,0.6); transform: translateY(-2px); }
        
        button.love-btn { background: linear-gradient(135deg, #a04961, #d47e96, #a04961); color: #fff;}
        button.love-btn:hover { box-shadow: 0 0 20px rgba(212, 126, 150, 0.6); }

        /* ã‚¨ãƒªã‚¢è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆç”¨ */
        .content-area { display: none; animation: fadeIn 0.6s ease; }
        .content-area.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° */
        #loading { display: none; padding: 40px 0; text-align: center; }
        .magic-circle { width: 70px; height: 70px; margin: 0 auto 20px; border: 2px dashed var(--gold); border-radius: 50%; animation: spin 4s linear infinite; position: relative; }
        .magic-circle::before { content: "âœ¦"; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: var(--gold); font-size: 28px; animation: pulse 1.5s infinite alternate; }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        @keyframes pulse { 100% { opacity: 0.4; transform: translate(-50%, -50%) scale(0.8); } }
        .loading-text { color: var(--gold); font-size: 15px; letter-spacing: 2px; animation: blink 1.5s infinite; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }

        /* --- çµæœç”»é¢ãƒ‡ã‚¶ã‚¤ãƒ³ --- */
        .section-header { font-size: 17px; color: var(--gold); margin: 35px 0 15px; display: flex; align-items: center; gap: 15px; letter-spacing: 1px; font-weight: bold;}
        .section-header::before, .section-header::after { content: ""; flex: 1; height: 1px; background: linear-gradient(90deg, transparent, var(--gold), transparent); opacity: 0.4;}

        .oracle-msg-container { display: flex; flex-direction: column; gap: 20px; margin-bottom: 30px; }
        .oracle-msg-box {
            background: linear-gradient(145deg, rgba(20,15,30,0.8) 0%, rgba(0,0,0,0.6) 100%);
            border-left: 3px solid var(--gold); padding: 22px; border-radius: 0 10px 10px 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        .oracle-msg-box.love-theme { border-left-color: var(--accent-love); }
        .msg-title { font-size: 15px; color: var(--gold); margin-bottom: 12px; font-weight: bold; border-bottom: 1px solid rgba(226,192,125,0.2); padding-bottom: 8px; display: flex; align-items: center;}
        .oracle-msg-box.love-theme .msg-title { color: #d47e96; border-bottom-color: rgba(212,126,150,0.3);}
        .msg-title::before { content: "âœ¦"; margin-right: 8px; font-size: 12px; }
        .msg-text { font-size: 14.5px; line-height: 2; color: #e0dced; text-align: justify;}
        .highlight { color: #f9e5b5; font-weight: bold; background: rgba(226,192,125,0.1); padding: 0 4px; border-radius: 4px;}
        .love-theme .highlight { color: #f2cdd6; background: rgba(212,126,150,0.15);}

        /* é‹å‘½ã®ç›¸æ‰‹ ç‰¹å¾´ãƒªã‚¹ãƒˆ */
        .feature-list { background: rgba(0,0,0,0.3); padding: 20px; border-radius: 12px; border: 1px solid rgba(212,126,150,0.3); margin-bottom: 30px; }
        .feature-item { display: flex; margin-bottom: 15px; align-items: flex-start; }
        .feature-item:last-child { margin-bottom: 0; }
        .feature-label { color: #d47e96; width: 90px; font-size: 13.5px; flex-shrink: 0; line-height: 1.6;}
        .feature-value { color: #fff; font-size: 14.5px; font-weight: bold; line-height: 1.6;}

        /* æ—¥ã€…ã®é‹å‹¢ ã‚¹ã‚³ã‚¢ */
        .score-box { text-align: center; margin: 30px 0; }
        .fortune-rank { font-size: 46px; color: var(--gold); font-weight: bold; text-shadow: 0 0 20px rgba(226,192,125,0.7); letter-spacing: 6px; margin-bottom: 5px; }
        .status-box { background: rgba(0,0,0,0.3); padding: 20px; border-radius: 12px; border: 1px solid rgba(226,192,125,0.2); margin-bottom: 30px;}
        .status-row { display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px; }
        .status-row:last-child { margin-bottom: 0; }
        .status-label { font-size: 13px; color: #eaeaeb; width: 60px; letter-spacing: 1px;}
        .status-bar-bg { flex-grow: 1; height: 8px; background: rgba(255,255,255,0.1); border-radius: 4px; margin: 0 12px; overflow: hidden;}
        .status-bar-fill { height: 100%; background: linear-gradient(90deg, var(--accent-daily), var(--gold)); border-radius: 4px; width: 0%; transition: width 1.5s cubic-bezier(0.1, 0.7, 0.1, 1); }
        .status-value { font-size: 14px; color: var(--gold); width: 40px; text-align: right; font-weight: bold; }

        .btn-retry { width: 100%; padding: 15px; background: transparent; border: 1px solid var(--border-color); color: var(--gold); border-radius: 30px; cursor: pointer; font-size: 15px; transition: 0.3s; margin-top: 10px; letter-spacing: 2px;}
        .btn-retry:hover { background: rgba(226,192,125,0.15); color: #fff; }
    </style>
</head>
<body>

<div class="stars"></div>

<div class="tab-container" id="tab-menu">
    <button class="tab-btn active" onclick="switchTab('daily')">ğŸŒŸ ä»Šæ—¥ã®é‹å‹¢</button>
    <button class="tab-btn" onclick="switchTab('destiny')">ğŸ’• æœ¬å½“ã®é‹å‘½ã®ç›¸æ‰‹</button>
</div>

<div class="glass-panel">
    
    <div class="advisor-profile" id="profile-area">
        <img id="advPhoto" src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=250&auto=format&fit=crop" alt="å ã„å¸«" class="advisor-photo">
        <div class="advisor-info">
            <div class="advisor-role" id="advRole">ç›£ä¿®ãƒ»é‹å‘½é‘‘å®šå£«</div>
            <div class="advisor-name" id="advName">æ˜Ÿå° ãƒ«ãƒŸãƒŠ (Lumina)</div>
            <div class="advisor-bio" id="advBio">
                ä»£ã€…ç¶šãæ˜Ÿèª­ã¿ã®å®¶ç³»ã«ç”Ÿã¾ã‚Œã€è¥¿æ´‹å æ˜Ÿè¡“ã¨ã‚«ãƒãƒ©æ•°ç§˜è¡“ã‚’çµ±åˆã€‚ã‚ãªãŸã®é­‚ã«åˆ»ã¾ã‚ŒãŸéå»ãƒ»ç¾åœ¨ãƒ»æœªæ¥ã®è¨˜éŒ²ã‚’èª­ã¿è§£ãã€é‹å‘½ã‚’å¥½è»¢ã•ã›ã‚‹å…·ä½“çš„ãªé“æ¨™ã‚’æç¤ºã—ã¾ã™ã€‚
            </div>
        </div>
    </div>

    <div id="form-daily" class="content-area active">
        <h1 class="site-title">æ˜Ÿå±‘ã®ç¥è¨—</h1>
        <p class="site-subtitle">ã€œ æ¯æ—¥ã®é‹æ°—ã®æµã‚Œã¨é­‚ã®è»Œè·¡ ã€œ</p>

        <div class="form-group">
            <label for="name1">ãŠåå‰</label>
            <input type="text" id="name1" placeholder="ä¾‹ï¼šæ˜Ÿé‡ çµè¡£" autocomplete="off">
        </div>
        <div class="form-group">
            <label for="gender1">æ€§åˆ¥ï¼ˆæ³¢é•·èª¿æ•´ç”¨ï¼‰</label>
            <select id="gender1">
                <option value="female">å¥³æ€§</option><option value="male">ç”·æ€§</option><option value="other">ãã®ä»–</option>
            </select>
        </div>
        <div class="form-group">
            <label for="dob1">ç”Ÿå¹´æœˆæ—¥</label>
            <input type="date" id="dob1">
        </div>
        <button class="main-btn" onclick="startDailyOracle()">æœ¬æ—¥ã®é‹å‘½ã‚’è¦–ã‚‹</button>
    </div>

    <div id="form-destiny" class="content-area">
        <h1 class="site-title" style="color: #d47e96; text-shadow: 0 0 15px rgba(212,126,150,0.5);">æœ¬å½“ã®é‹å‘½ã®ç›¸æ‰‹ãƒ»å ã„</h1>
        <p class="site-subtitle">ã€œ é­‚ãƒ¬ãƒ™ãƒ«ã§æƒ¹ã‹ã‚Œåˆã†ã€çœŸå®Ÿã®ä¼´ä¾¶ ã€œ</p>

        <div class="form-group">
            <label for="name2">ãŠåå‰</label>
            <input type="text" id="name2" placeholder="ä¾‹ï¼šæœˆåŸ è“®" autocomplete="off">
        </div>
        <div class="form-group">
            <label for="gender2">ã‚ãªãŸã®æ€§åˆ¥</label>
            <select id="gender2">
                <option value="female">å¥³æ€§</option><option value="male">ç”·æ€§</option><option value="other">ãã®ä»–</option>
            </select>
        </div>
        <div class="form-group">
            <label for="dob2">ç”Ÿå¹´æœˆæ—¥</label>
            <input type="date" id="dob2">
        </div>
        <div class="form-group">
            <label for="status2">ç¾åœ¨ã®ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼çŠ¶æ³ï¼ˆâ€»é‘‘å®šç²¾åº¦ã‚’é«˜ã‚ã‚‹æœ€é‡è¦é …ç›®ã§ã™ï¼‰</label>
            <select id="status2" style="border: 1px solid rgba(201,91,122,0.4);">
                <option value="single">ç¾åœ¨ãƒ•ãƒªãƒ¼ï¼ˆå‡ºä¼šã„ã‚’æ±‚ã‚ã¦ã„ã‚‹ï¼‰</option>
                <option value="partner">ç¾åœ¨ã€æ‹äººã‚„é…å¶è€…ï¼ˆæ—¦é‚£ãƒ»å¦»ï¼‰ãŒã„ã‚‹</option>
                <option value="complicated">è¤‡é›‘ãªé–¢ä¿‚ï¼ˆç‰‡æ€ã„ãƒ»å¾©ç¸å¸Œæœ›ãƒ»ç§˜å¯†ã®æ‹ãªã©ï¼‰</option>
            </select>
        </div>
        <button class="main-btn love-btn" onclick="startDestinyOracle()">çœŸå®Ÿã®æ„›ã‚’é€è¦–ã™ã‚‹</button>
    </div>

    <div id="loading">
        <div class="magic-circle" id="magicCircle"></div>
        <div class="loading-text" id="loadingText">ã‚¢ã‚«ã‚·ãƒƒã‚¯ãƒ¬ã‚³ãƒ¼ãƒ‰ã«æ¥ç¶šä¸­...</div>
    </div>

    <div id="res-daily" class="content-area">
        <div class="section-header">æœ¬æ—¥ã®ç·åˆé‘‘å®šæ›¸ï¼š<span id="resName1" style="color:#fff; margin-left:10px;"></span></div>
        <div class="score-box">
            <div class="fortune-rank" id="resRank1"></div>
        </div>
        <div class="status-box">
            <div class="status-row"><span class="status-label">æ‹æ„›ç¸</span><div class="status-bar-bg"><div class="status-bar-fill" id="barLove"></div></div><span class="status-value" id="valLove"></span></div>
            <div class="status-row"><span class="status-label">ä»•äº‹å­¦</span><div class="status-bar-bg"><div class="status-bar-fill" id="barWork"></div></div><span class="status-value" id="valWork"></span></div>
            <div class="status-row"><span class="status-label">é‡‘è²¡é‹</span><div class="status-bar-bg"><div class="status-bar-fill" id="barMoney"></div></div><span class="status-value" id="valMoney"></span></div>
        </div>
        <div class="oracle-msg-container">
            <div class="oracle-msg-box">
                <div class="msg-title">å…¨ä½“çš„ãªé‹æ°—ã®æµã‚Œ</div>
                <div class="msg-text" id="msgDailyTotal"></div>
            </div>
        </div>
        <button class="btn-retry" onclick="resetApp()">ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</button>
    </div>

    <div id="res-destiny" class="content-area">
        <div class="section-header" style="color: #d47e96;"><span id="resName2" style="color:#fff; margin-right:10px;"></span>ã®ã€Œæœ¬å½“ã®é‹å‘½ã®ç›¸æ‰‹ã€</div>
        
        <div class="oracle-msg-container">
            <div class="oracle-msg-box love-theme">
                <div class="msg-title">ç¾åœ¨ã®çŠ¶æ³ã¨é­‚ã®çœŸå®Ÿï¼ˆé‡è¦ï¼‰</div>
                <div class="msg-text" id="msgDestinyStatus"></div>
            </div>
        </div>

        <div class="feature-list">
            <div class="feature-item"><span class="feature-label">å®¹å§¿ãƒ»é›°å›²æ°—</span><span class="feature-value" id="destinyLook"></span></div>
            <div class="feature-item"><span class="feature-label">æ€§æ ¼ã®å‚¾å‘</span><span class="feature-value" id="destinyChar"></span></div>
            <div class="feature-item"><span class="feature-label">è·æ¥­ãƒ»å¾—æ„åˆ†é‡</span><span class="feature-value" id="destinyJob"></span></div>
            <div class="feature-item"><span class="feature-label">å¹´é½¢å·®</span><span class="feature-value" id="destinyAge"></span></div>
        </div>

        <div class="oracle-msg-container">
            <div class="oracle-msg-box love-theme">
                <div class="msg-title">äºŒäººãŒå‡ºä¼šã†ï¼ˆæ°—ã¥ãï¼‰æ™‚æœŸã¨å‰å…†</div>
                <div class="msg-text" id="msgDestinyTiming"></div>
            </div>
        </div>

        <button class="btn-retry" style="border-color:rgba(212,126,150,0.5); color:#d47e96;" onclick="resetApp()">ç¾å®Ÿã«æˆ»ã‚‹</button>
    </div>

</div>

<script>
    // --- ğŸ”® å ã„å¸«ã®ãƒ‡ãƒ¼ã‚¿ ---
    const advisors = {
        daily: {
            photo: "image.png", 
            role: "ç›£ä¿®ãƒ»é‹å‘½é‘‘å®šå£«",
            name: "å·æ·» ä¸‰é¬¼ (Mikity)",
            bio: "ä»£ã€…ç¶šãæ˜Ÿèª­ã¿ã®å®¶ç³»ã«ç”Ÿã¾ã‚Œã€è¥¿æ´‹å æ˜Ÿè¡“ã¨ã‚«ãƒãƒ©æ•°ç§˜è¡“ã‚’çµ±åˆã€‚ã‚ãªãŸã®é­‚ã«åˆ»ã¾ã‚ŒãŸéå»ãƒ»ç¾åœ¨ãƒ»æœªæ¥ã®è¨˜éŒ²ã‚’èª­ã¿è§£ãã€é‹å‘½ã‚’å¥½è»¢ã•ã›ã‚‹å…·ä½“çš„ãªé“æ¨™ã‚’æç¤ºã—ã¾ã™ã€‚"
        },
        destiny: {
            /* â˜…ã€Œé‹å‘½ã®ç›¸æ‰‹ãƒ»å ã„ã€ç”¨ã®å ã„å¸«å†™çœŸã€‚å¥½ããªç”»åƒURLã«å¤‰æ›´å¯èƒ½ã§ã™ */
            photo: "image.png2", 
            role: "éœŠè¦–ãƒ»ç¸çµã³é‘‘å®šå£«",
            name: "è¿«å£ åŠ‰æ° (RyuShi",
            bio: "å¹¼å°‘æœŸã‚ˆã‚Šä»–è€…ã®ã€Œã”ç¸ã®ç³¸ã€ãŒè¦–ãˆã‚‹ç‰¹ç•°ä½“è³ªã‚’æŒã¤ã€‚ç¾åœ¨ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ãŒã„ã‚‹æ–¹ã§ã‚‚ã€é­‚ãƒ¬ãƒ™ãƒ«ã§ã®ã€æœ¬å½“ã®é‹å‘½ã®ç›¸æ‰‹ï¼ˆãƒ„ã‚¤ãƒ³ãƒ¬ã‚¤ï¼‰ã€ã‚’æ­£ç¢ºã«ç‰¹å®šã—ã€å½ã‚Šã®ãªã„çœŸå®Ÿã‚’ãŠä¼ãˆã—ã¾ã™ã€‚"
        }
    };

    // ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆå‡¦ç†
    function switchTab(type) {
        document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
        document.querySelectorAll('.content-area').forEach(div => div.classList.remove('active'));
        
        event.target.classList.add('active');
        document.getElementById('form-' + type).classList.add('active');

        // å ã„å¸«ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã®åˆ‡ã‚Šæ›¿ãˆï¼ˆãƒ•ã‚§ãƒ¼ãƒ‰æ¼”å‡ºä»˜ãï¼‰
        const photoEl = document.getElementById('advPhoto');
        photoEl.style.opacity = 0;
        setTimeout(() => {
            photoEl.src = advisors[type].photo;
            document.getElementById('advRole').innerText = advisors[type].role;
            document.getElementById('advName').innerText = advisors[type].name;
            document.getElementById('advBio').innerText = advisors[type].bio;
            if(type === 'destiny') {
                document.getElementById('advName').style.color = 'var(--accent-love)';
                document.getElementById('advPhoto').style.borderColor = 'var(--accent-love)';
            } else {
                document.getElementById('advName').style.color = 'var(--gold-light)';
                document.getElementById('advPhoto').style.borderColor = 'var(--gold)';
            }
            photoEl.style.opacity = 1;
        }, 300);
    }

    // --- ğŸ”® å…±é€šï¼šã‚·ãƒ¼ãƒ‰å€¤è¨ˆç®—ï¼ˆæ“¬ä¼¼ä¹±æ•°ï¼‰ ---
    function getSeededRandom(seedStr) {
        let seed = 0;
        for (let i = 0; i < seedStr.length; i++) seed = seedStr.charCodeAt(i) + ((seed << 5) - seed);
        seed = Math.abs(seed);
        return function() {
            let x = Math.sin(seed++) * 10000;
            return x - Math.floor(x);
        }
    }

    // ==========================================
    // ğŸ”® å ã„1ï¼šæ—¥ã€…ã®é‹å‹¢ å‡¦ç†
    // ==========================================
    const d_msgsTotal = [
        "é‹å‘½ã®è¼ªãŒé™ã‹ã«å›ã‚Šå§‹ã‚ã€æ–°ãŸãªãƒ•ã‚§ãƒ¼ã‚ºã¸ã¨ç§»è¡Œã—ã¤ã¤ã‚ã‚‹ä¸€æ—¥ã§ã™ã€‚ã“ã‚Œã¾ã§å°‘ã—æ»ã£ã¦ã„ãŸç‰©äº‹ãŒã€æ€ã„ãŒã‘ãªã„ãã£ã‹ã‘ã‹ã‚‰ã‚¹ãƒ ãƒ¼ã‚ºã«å‹•ãå‡ºã™æš—ç¤ºãŒå‡ºã¦ã„ã¾ã™ã€‚",
        "ç¾åœ¨ã€ã‚ãªãŸã®å‘¨å›²ã«ã¯ç©ã‚„ã‹ã§ç¥ç§˜çš„ãªæ˜Ÿã®æ°—ãŒæº€ã¡ã¦ã„ã¾ã™ã€‚éå»ã®çµŒé¨“ãŒç¾ã—ã„çµæ™¶ã¨ãªã‚Šã€ä»Šã®ã‚ãªãŸã‚’åŠ›å¼·ãæ”¯ãˆã¦ã„ã‚‹ã®ã‚’æ„Ÿã˜ã‚‹ã¯ãšã§ã™ã€‚ç„¦ã‚Šã¯ç¦ç‰©ã§ã™ã€‚",
        "æ˜Ÿã€…ã®é…ç½®ãŒã€ã‚ãªãŸã®ä¸­ã«çœ ã‚‹éš ã•ã‚ŒãŸæ‰èƒ½ã‚’å‘¼ã³è¦šã¾ãã†ã¨ã—ã¦ã„ã¾ã™ã€‚ç›´æ„ŸãŒéå¸¸ã«é‹­ããªã£ã¦ãŠã‚Šã€è«–ç†çš„ãªæ€è€ƒã‚ˆã‚Šã‚‚ã€Œãªã‚“ã¨ãªãã“ã£ã¡ãŒè‰¯ã„æ°—ãŒã™ã‚‹ã€ã¨ã„ã†å£°ã«å¾“ã†ã“ã¨ã§å¤§æ­£è§£ã‚’å¼•ãå¯„ã›ã¾ã™ã€‚"
    ];

    function startDailyOracle() {
        const name = document.getElementById("name1").value.trim();
        const dob = document.getElementById("dob1").value;
        if (!name || !dob) return alert("ãŠåå‰ã¨ç”Ÿå¹´æœˆæ—¥ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚");

        showLoading("æœ¬æ—¥ã®æ˜Ÿã®é…ç½®ã‚’è¨ˆç®—ä¸­...", "var(--gold)", () => {
            const today = new Date();
            const dateStr = `${today.getFullYear()}${today.getMonth()}${today.getDate()}`;
            const random = getSeededRandom(name + dob + dateStr); // æ—¥æ›¿ã‚ã‚Š

            const score = Math.floor(random() * 61) + 40; 
            let rank = score >= 90 ? "å¤§å‰" : score >= 75 ? "ä¸­å‰" : score >= 60 ? "å°å‰" : "å‰";

            const vLove = Math.min(100, Math.max(20, score + Math.floor(random() * 30) - 15));
            const vWork = Math.min(100, Math.max(20, score + Math.floor(random() * 30) - 15));
            const vMoney = Math.min(100, Math.max(20, score + Math.floor(random() * 30) - 15));

            document.getElementById("resName1").innerText = name + " æ§˜";
            document.getElementById("resRank1").innerText = rank;
            document.getElementById("valLove").innerText = vLove + "%";
            document.getElementById("valWork").innerText = vWork + "%";
            document.getElementById("valMoney").innerText = vMoney + "%";
            document.getElementById("msgDailyTotal").innerText = d_msgsTotal[Math.floor(random() * d_msgsTotal.length)];

            document.getElementById("barLove").style.width = "0%";
            document.getElementById("barWork").style.width = "0%";
            document.getElementById("barMoney").style.width = "0%";
            document.getElementById("res-daily").classList.add("active");

            setTimeout(() => {
                document.getElementById("barLove").style.width = vLove + "%";
                document.getElementById("barWork").style.width = vWork + "%";
                document.getElementById("barMoney").style.width = vMoney + "%";
            }, 100);
        });
    }

    // ==========================================
    // ğŸ”® å ã„2ï¼šé‹å‘½ã®ç›¸æ‰‹ å‡¦ç†
    // ==========================================
    const s_looks = ["å°‘ã—åˆ‡ã‚Œé•·ã§æ¶¼ã—ã’ãªç›®å…ƒã€‚æ¸…æ½”æ„ŸãŒã‚ã‚Šã€å…¨ä½“çš„ã«ã‚¹ãƒƒã‚­ãƒªã¨ã—ãŸæ´—ç·´ã•ã‚ŒãŸã‚·ãƒ«ã‚¨ãƒƒãƒˆã‚’ã—ã¦ã„ã¾ã™ã€‚", "è¦ªã—ã¿ã‚„ã™ã„ç¬‘é¡”ã¨ã€å°‘ã—ä¸¸ã¿ã‚’å¸¯ã³ãŸå„ªã—ã’ãªè¼ªéƒ­ã€‚å£°ã®ãƒˆãƒ¼ãƒ³ãŒå¿ƒåœ°ã‚ˆãã€èã„ã¦ã„ã‚‹ã ã‘ã§å®‰å¿ƒã—ã¾ã™ã€‚", "æ„æ€ã®å¼·ã•ã‚’æ„Ÿã˜ã‚‹çœŸã£ç›´ããªç³ã€‚å¥åº·çš„ã§ãƒã‚¤ã‚¿ãƒªãƒ†ã‚£ã«æº¢ã‚Œã€å‘¨å›²ã®ç›®ã‚’æƒ¹ãã¤ã‘ã‚‹è¯ã‚„ã‹ãªã‚ªãƒ¼ãƒ©ãŒã‚ã‚Šã¾ã™ã€‚", "è‰²ç™½ã§ã©ã“ã‹å„šã’ãªã€ä¸­æ€§çš„ãªé­…åŠ›ã‚’æŒã£ã¦ã„ã¾ã™ã€‚æ‰‹ã‚„æŒ‡å…ˆãŒç¾ã—ãã€æ‰€ä½œã«å“ãŒã‚ã‚Šã¾ã™ã€‚"];
    const s_chars = ["æ™®æ®µã¯ã‚¯ãƒ¼ãƒ«ã§è«–ç†çš„ã§ã™ãŒã€ã‚ãªãŸã«å¯¾ã—ã¦ã ã‘ã¯ä¸å™¨ç”¨ãªã»ã©æ·±ã„æ„›æƒ…ã¨ç”˜ãˆã‚“åŠãªä¸€é¢ã‚’è¦‹ã›ã¦ãã‚Œã¾ã™ã€‚", "éå¸¸ã«ç©ã‚„ã‹ã§ã€ã‚ãªãŸã®è©±ã‚’æœ€å¾Œã¾ã§å¦å®šã›ãšã«èã„ã¦ãã‚Œã‚‹æµ·ã®ã‚ˆã†ãªåŒ…å®¹åŠ›ã‚’æŒã£ã¦ã„ã¾ã™ã€‚", "ãƒ¦ãƒ¼ãƒ¢ã‚¢ã®ã‚»ãƒ³ã‚¹ãŒæŠœç¾¤ã§ã€ä¸€ç·’ã«ã„ã‚‹ã¨å¸¸ã«ç¬‘ã„ãŒçµ¶ãˆã¾ã›ã‚“ã€‚è½ã¡è¾¼ã‚“ã æ™‚ã«ä¸€ç•ªã®å‘³æ–¹ã«ãªã£ã¦ãã‚Œã‚‹äººã§ã™ã€‚", "è²¬ä»»æ„ŸãŒå¼·ããƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ãŒã‚ã‚Šã¾ã™ã€‚å°‘ã—å¼·å¼•ãªã¨ã“ã‚ã‚‚ã‚ã‚Šã¾ã™ãŒã€ã€Œã‚ãªãŸã‚’å®ˆã‚ŠæŠœãã€ã¨ã„ã†å¼·ã„è¦šæ‚Ÿã‚’æŒã£ãŸäººã§ã™ã€‚"];
    const s_jobs = ["ITã€ãƒ‡ã‚¶ã‚¤ãƒ³ã€èŠ¸è¡“ãªã©ã€ä½•ã‹ã‚’ã€å‰µã‚Šå‡ºã™ã€ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ãªå°‚é–€è·", "åŒ»ç™‚ã€ç¦ç¥‰ã€æ•™è‚²ãªã©ã€ãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã«ã€äººã‚’ç™’ã‚„ã—æ”¯ãˆã‚‹ã€ä»•äº‹", "çµŒå–¶è€…ã‚„ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹ãªã©ã€ç‹¬ç«‹ã—ã¦è‡ªåˆ†ã®è…•ä¸€æœ¬ã§é“ã‚’åˆ‡ã‚Šæ‹“ã„ã¦ã„ã‚‹", "é‡‘èã‚„å…¬å‹™å“¡ã€å¤§ä¼æ¥­ãªã©ã€éå¸¸ã«å®‰å®šã—ãŸåŸºç›¤ã®ä¸­ã§æ•°å­—ã‚„ä»•çµ„ã¿ã‚’ç®¡ç†ã™ã‚‹ä»•äº‹"];
    const s_ages = ["ã‚ãªãŸã¨åŒã„å¹´ã€ã¾ãŸã¯Â±1ã€œ2æ­³å·®ã®åŒä¸–ä»£", "ã‚ãªãŸãŒæ€ã„åˆ‡ã‚Šç”˜ãˆã‚‰ã‚Œã‚‹ã€3ã€œ6æ­³å¹´ä¸Šã®å¤§äººã®ç›¸æ‰‹", "ã‚ãªãŸãŒãƒªãƒ¼ãƒ‰ã—ã¦ã‚ã’ãŸããªã‚‹ã€2ã€œ5æ­³å¹´ä¸‹ã®ç›¸æ‰‹", "ä¾¡å€¤è¦³ãŒå¤§ããç•°ãªã‚‹ãŒä¸æ€è­°ã¨æƒ¹ã‹ã‚Œã‚‹ã€ã²ã¨å›ã‚Šè¿‘ãé›¢ã‚ŒãŸç›¸æ‰‹"];
    const s_timings = ["<span class='highlight'>ã‚ãªãŸãŒã€ä»Šã®ç’°å¢ƒã«å°‘ã—é€€å±ˆã‚’æ„Ÿã˜å§‹ã‚ãŸæ™‚ã€</span>ã«äº¤å·®ã—ã¾ã™ã€‚ä»Šã¾ã§è¡Œã‹ãªã‹ã£ãŸå ´æ‰€ã‚„ã€çªç„¶èª˜ã‚ã‚ŒãŸé›†ã¾ã‚Šã®ä¸­ã«ã€ãã®äººã¯ç´›ã‚Œè¾¼ã‚“ã§ã„ã¾ã™ã€‚è½ã¨ã—ç‰©ã‚’æ‹¾ã†ã‚ˆã†ãªäº›ç´°ãªå¶ç„¶ãŒå§‹ã¾ã‚Šã®åˆå›³ã§ã™ã€‚", "<span class='highlight'>å®Ÿã¯ã€ã™ã§ã«ã‚ãªãŸãŒå‡ºä¼šã£ã¦ã„ã‚‹äººã®ä¸­ã€</span>ã«ã„ã‚‹å¯èƒ½æ€§ãŒéå¸¸ã«é«˜ã„ã§ã™ã€‚ã‹ã¤ã¦ã®åŒç´šç”Ÿã‚„ã€å‹äººã¨ã—ã¦å‰²ã‚Šåˆ‡ã£ã¦ã„ãŸäººç‰©ã€‚ä»Šå¾Œæ•°ãƒ¶æœˆä»¥å†…ã«ãã®äººã‹ã‚‰çªç„¶é€£çµ¡ãŒæ¥ã‚‹ã®ãŒå¼·çƒˆãªã‚µã‚¤ãƒ³ã§ã™ã€‚", "<span class='highlight'>ã‚ãªãŸãŒã€ä½•ã‹å¤§ããªã‚‚ã®ã‚’æ‰‹æ”¾ã—ãŸç›´å¾Œã€</span>ã§ã™ã€‚é•·å¹´ã®åŸ·ç€ã‚„åˆã‚ãªã„ç’°å¢ƒã‚’è¾ã‚ã€ã‚¨ãƒãƒ«ã‚®ãƒ¼ã«ç©ºãã‚¹ãƒšãƒ¼ã‚¹ãŒã§ããŸç¬é–“ã«ã€ãƒ‘ã‚ºãƒ«ã®ãƒ”ãƒ¼ã‚¹ãŒãƒãƒã‚‹ã‚ˆã†ã«ãã®äººã¯ç¾ã‚Œã¾ã™ã€‚"];

    const s_statusMsgs = {
        "single": "ç¾åœ¨ãƒ•ãƒªãƒ¼ã®ã‚ãªãŸã€‚éå»ã®æ‹æ„›ã§ã®å‚·ã‚„ã€Œä¸€äººã®æ°—æ¥½ã•ã€ã‹ã‚‰ã€ç„¡æ„è­˜ã«å¿ƒã®å£ã‚’ä½œã£ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚ã—ã‹ã—ã€ã‚ãªãŸã®é­‚ã®ä¼´ä¾¶ï¼ˆã‚½ã‚¦ãƒ«ãƒ¡ã‚¤ãƒˆï¼‰ã¯ã€ã™ã§ã«ã‚ãªãŸã®äººç”Ÿã®ã™ãè¿‘ãã¾ã§æ¥è¿‘ã—ã¦ã„ã¾ã™ã€‚å¤§åˆ‡ãªã®ã¯ã€Œå®Œç’§ãªäººã€ã‚’æ¢ã™ã®ã§ã¯ãªãã€ã€Œä¸€ç·’ã«ã„ã¦å‘¼å¸ãŒæ¥½ãªäººã€ã‚’è¦‹é€ƒã•ãªã„ã“ã¨ã§ã™ã€‚",
        "partner": "ã‚ãªãŸã«ã¯ä»Šã€æ‹äººã‚„é…å¶è€…ãŒã„ã‚‰ã£ã—ã‚ƒã„ã¾ã™ã­ã€‚éœŠè¦–ã—ã¦ã¿ã‚‹ã¨ã€ä»Šã®ãŠç›¸æ‰‹ã¨ã®ã”ç¸ã‚‚æ±ºã—ã¦è–„ã„ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ç¾ä¸–ã«ãŠã„ã¦å¤§åˆ‡ãªå­¦ã³ã‚’ä¸ãˆåˆã†é–¢ä¿‚ã§ã™ã€‚<br><br>ã—ã‹ã—ã€é­‚ã®æœ€æ·±éƒ¨ã§è¦–ã‚‹ã¨ã€<span class='highlight'>ã‚ãªãŸã®ã€æœ¬å½“ã®é‹å‘½ã®ç›¸æ‰‹ã€ã¯ã€åˆ¥ã«ã‚‚ã†ä¸€äººå­˜åœ¨ã—ã¦ã„ã‚‹</span>å¼·ã„æ³¢å‹•ã‚’æ„Ÿã˜ã¾ã™ã€‚ä»Šã®ãŠç›¸æ‰‹ã¨ã®é–¢ä¿‚ã§ã€è¨€è‘‰ã«ã§ããªã„é•å’Œæ„Ÿã‚„ã€Œã©ã“ã‹æº€ãŸã•ã‚Œãªã„æ€ã„ã€ã€Œç´ ã®è‡ªåˆ†ã‚’å‡ºã›ãªã„è‹¦ã—ã•ã€ã‚’æ„Ÿã˜ãŸã“ã¨ãŒã‚ã‚‹ãªã‚‰ã€ãã‚Œã¯é­‚ã‹ã‚‰ã®ã‚µã‚¤ãƒ³ã§ã™ã€‚",
        "complicated": "ç¾åœ¨ã€è¤‡é›‘ãªé–¢ä¿‚æ€§ã®ä¸­ã§é­‚ãŒã²ã©ãã™ã‚Šæ¸›ã£ã¦ã„ã‚‹ã®ãŒè¦–ãˆã¾ã™ã€‚ã¯ã£ãã‚Šã¨ãŠä¼ãˆã—ã¾ã™ã€‚<span class='highlight'>ã‚ãªãŸãŒä»ŠåŸ·ç€ã—ã¦è‹¦ã—ã‚“ã§ã„ã‚‹ãã®æ–¹ã¯ã€æ®‹å¿µãªãŒã‚‰ã‚ãªãŸã®ã€Œæœ¬å½“ã®é‹å‘½ã®ç›¸æ‰‹ã€ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</span><br><br>ã‚ãªãŸã®æœ¬å½“ã®é‹å‘½ã®ç›¸æ‰‹ã¯ã€ã‚ãªãŸã‚’ä¸å®‰ã«ã•ã›ãŸã‚Šã€éš ã‚Œãªã‘ã‚Œã°ãªã‚‰ãªã„ã‚ˆã†ãªé–¢ä¿‚ã‚’å¼·è¦ã—ãŸã‚Šã¯çµ¶å¯¾ã«ã—ãªã„é­‚ã®æŒã¡ä¸»ã§ã™ã€‚ç›®ã‚’è¦šã¾ã™æ™‚ãŒæ¥ã¦ã„ã¾ã™ã€‚"
    };

    function startDestinyOracle() {
        const name = document.getElementById("name2").value.trim();
        const dob = document.getElementById("dob2").value;
        const status = document.getElementById("status2").value;
        if (!name || !dob) return alert("ãŠç›¸æ‰‹ã‚’éœŠè¦–ã™ã‚‹ãŸã‚ã€ãŠåå‰ã¨ç”Ÿå¹´æœˆæ—¥ã¯å¿…é ˆã§ã™ã€‚");

        showLoading("å®¿ç¸ã®ç³¸ã‚’ãŸãã‚Šå¯„ã›ã€é­‚ã®æ·±å±¤ã‚’éœŠè¦–ä¸­...", "var(--accent-love)", () => {
            // é‹å‘½ã®ç›¸æ‰‹ã¯ä¸€ç”Ÿå¤‰ã‚ã‚‰ãªã„ãŸã‚ã€æ—¥ä»˜ã‚’å«ã‚ãªã„ã‚·ãƒ¼ãƒ‰å€¤ã«ã™ã‚‹
            const random = getSeededRandom(name + dob + "destiny_v2"); 

            document.getElementById("resName2").innerText = name + " æ§˜";
            document.getElementById("msgDestinyStatus").innerHTML = s_statusMsgs[status];

            document.getElementById("destinyLook").innerText = s_looks[Math.floor(random() * s_looks.length)];
            document.getElementById("destinyChar").innerText = s_chars[Math.floor(random() * s_chars.length)];
            document.getElementById("destinyJob").innerText = s_jobs[Math.floor(random() * s_jobs.length)];
            document.getElementById("destinyAge").innerText = s_ages[Math.floor(random() * s_ages.length)];

            document.getElementById("msgDestinyTiming").innerHTML = s_timings[Math.floor(random() * s_timings.length)];

            document.getElementById("res-destiny").classList.add("active");
        });
    }

    // --- ç”»é¢åˆ¶å¾¡ ---
    function showLoading(text, color, callback) {
        document.getElementById("tab-menu").style.display = "none";
        document.getElementById("profile-area").style.display = "none";
        document.querySelectorAll(".content-area").forEach(el => el.classList.remove("active"));
        
        document.getElementById("loadingText").innerText = text;
        document.getElementById("loadingText").style.color = color;
        document.getElementById("magicCircle").style.borderColor = color;
        document.getElementById("magicCircle").style.color = color;
        
        document.getElementById("loading").style.display = "block";
        window.scrollTo({ top: 0, behavior: "smooth" });

        setTimeout(() => {
            document.getElementById("loading").style.display = "none";
            callback();
        }, 3000); // é‡åšæ„Ÿã‚’å‡ºã™ãŸã‚3ç§’å¾…æ©Ÿ
    }

    function resetApp() {
        document.querySelectorAll(".content-area").forEach(el => el.classList.remove("active"));
        document.getElementById("tab-menu").style.display = "flex";
        document.getElementById("profile-area").style.display = "flex";
        
        // ç¾åœ¨ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚¿ãƒ–ã®å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã«æˆ»ã™
        const activeTab = document.querySelector('.tab-btn.active').innerText.includes('é‹å‹¢') ? 'form-daily' : 'form-destiny';
        document.getElementById(activeTab).classList.add("active");
        window.scrollTo({ top: 0, behavior: "smooth" });
    }
</script>
</body>
</html>
